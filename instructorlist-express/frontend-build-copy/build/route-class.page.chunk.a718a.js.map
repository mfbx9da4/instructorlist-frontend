{"version":3,"sources":["webpack:///route-class.page.chunk.a718a.js","webpack:///./utils/classNames.js","webpack:///./components/classdetail/style.scss?3fc6","webpack:///./components/footerbutton/style.scss?9afc","webpack:///./components/stripeform/style.scss?b186","webpack:///./components/stripeform/StripeForm.js","webpack:///./components/footerbutton/FooterButton.js","webpack:///./constants.js","webpack:///./components/payment/Payment.js","webpack:///./components/classdetail/ClassDetail.js","webpack:///./routes/class.page/index.js","webpack:///./components/payment/style.scss?e386","webpack:///../node_modules/loadjs/dist/loadjs.umd.js"],"names":["webpackJsonp","1uTM","module","__webpack_exports__","__webpack_require__","classNames","obj","Object","entries","filter","e","map","join","6hN1","exports","Dnk9","GjWG","Kb/3","_objectDestructuringEmpty","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","StripeForm__objectDestructuringEmpty","StripeForm__classCallCheck","instance","Constructor","StripeForm__possibleConstructorReturn","StripeForm__inherits","loadStripe","Promise","resolve","loadjs","Payment__objectDestructuringEmpty","Payment__classCallCheck","Payment__possibleConstructorReturn","Payment__inherits","ClassDetail__objectDestructuringEmpty","ClassDetail__classCallCheck","ClassDetail__possibleConstructorReturn","ClassDetail__inherits","defineProperty","preact_min","preact_router_es","classdetail_style","classdetail_style_default","n","payment_style","payment_style_default","footerbutton_style","footerbutton_style_default","FooterButton","_temp","_this","_ret","_len","arguments","length","args","Array","_key","this","_Component","apply","concat","onClick","props","disabled","preventDefault","render","children","hide","className","style","footer","button","type","Component","dayToDayString","1","2","3","4","5","6","7","stripeform_style","stripeform_style_default","loadjs_umd","loadjs_umd_default","api","StripeForm__ref","id","StripeElement","shouldComponentUpdate","componentDidMount","card","mount","StripeForm__ref2","StripePaymentRequestButton","_this2","_Component2","result","paymentRequest","canMakePayment","prButton","document","getElementById","display","on","onPaymentMethod","_ref9","StripeForm","onSubmit","console","log","onSubmitCard","res","response","stripe","createPaymentMethod","state","billingDetails","setState","confirm","payment_method_id","paymentMethod","amount","getAmount","error","requires_action","handleAction","body","handleCardAction","payment_intent_client_secret","payment_intent_id","paymentIntent","confirmed","fetch","BASE_URL","method","headers","JSON","stringify","json","onSubmitCard1","getClientSecret","client_secret","handleCardSetup","onSuccessfulCardSetup","parseFloat","onError","err","ok","ev","confirmPaymentIntent","payment_method","confirmError","complete","handleCardPayment","clientSecret","loadingStripe","responses","_Component3","$return","$error","$If_3","window","Stripe","elements","hidePostalCode","country","currency","total","label","requestPayerName","requestPayerEmail","bind","formContainer","_ref3","_ref4","_ref5","_ref6","Payment__ref7","Payment__ref8","Payment__ref9","Payment","onChange","stopPropagation","stripeToken","stripeSubmit","message","formIsValid","item","show","paymentWrapper","close","paymentMain","paymentHeader","back","onClose","title","section","classTitle","time","day","start_time","end_time","location","venue","name","area","titleContainer","titleAside","price","toFixed","extra_fee","extra","strong","paymentForm","inputContainer","input","placeholder","onStripeSubmit","ClassDetail__ref3","ClassDetail__ref4","ClassDetail__ref5","ClassDetail__ref6","ClassDetail__ref7","ClassDetail","onBack","i","history","route","hidePayment","showPayment","data","classes","matches","getClass","instructor","instructors","profile","bio","classDetailWrapper","classHero","heroImage","src","hero_image_url","alt","href","timeLabel","toUpperCase","main","mainTitle","address","google_maps_url","address_line_1","postcode","target","well","borderTop","wellIcon","wellMain","wellName","wellDescription","wellAction","slug","instructorAvatar","profile_image_url","email","substring","description","priceLabel","getInitialProps","then","Mmjd","r4pm","root","factory","define","subscribe","bundleIds","callbackFn","push","fn","bundleId","r","q","depsNotFound","numWaiting","pathsNotFound","bundleResultCache","bundleCallbackQueue","publish","splice","executeCallbacks","success","devnull","loadFile","path","numTries","isLegacyIECss","doc","async","maxTries","numRetries","beforeCallbackFn","before","pathStripped","replace","test","createElement","rel","relList","as","undefined","onload","onerror","onbeforeload","sheet","cssText","x","code","defaultPrevented","head","appendChild","loadFiles","paths","arg1","arg2","loadFn","reject","trim","bundleIdCache","returnPromise","ready","deps","done","reset","isDefined","vbq8"],"mappings":"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","file":"route-class.page.chunk.a718a.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ \"1uTM\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return classNames; });\nvar classNames = function classNames(obj) {\n  return Object.entries(obj).filter(function (e) {\n    return e[1];\n  }).map(function (e) {\n    return e[0];\n  }).join(' ');\n};\n\n/* harmony default export */ __webpack_exports__[\"b\"] = (classNames);\n\n/***/ }),\n\n/***/ \"6hN1\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"classDetailWrapper\":\"classDetailWrapper__2T8mX\",\"heroImage\":\"heroImage__Qr4BU\",\"back\":\"back__1aQJI\",\"timeLabel\":\"timeLabel__1dmWn\",\"main\":\"main__ieBPs\",\"mainTitle\":\"mainTitle__3QRdT\",\"address\":\"address__teZVQ\",\"description\":\"description__25Gbt\",\"section\":\"section__1vexu\",\"title\":\"title__gjFEQ\",\"instructorAvatar\":\"instructorAvatar__25zFg\",\"well\":\"well__372E6\",\"wellIcon\":\"wellIcon__3hDcb\",\"wellMain\":\"wellMain__1JhNM\",\"wellDescription\":\"wellDescription__1PEH9\",\"wellAction\":\"wellAction__3j7JB\",\"priceLabel\":\"priceLabel__3dyS3\"};\n\n/***/ }),\n\n/***/ \"Dnk9\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"footer\":\"footer__YnoJr\",\"hide\":\"hide__3aVn4\",\"disabled\":\"disabled__gp8z1\",\"button\":\"button__2PQ5O\"};\n\n/***/ }),\n\n/***/ \"GjWG\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"formContainer\":\"formContainer__1XJ08\"};\n\n/***/ }),\n\n/***/ \"Kb/3\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ../node_modules/preact/dist/preact.min.js\nvar preact_min = __webpack_require__(\"KM04\");\nvar preact_min_default = /*#__PURE__*/__webpack_require__.n(preact_min);\n\n// EXTERNAL MODULE: ./routes/class.page/style.css\nvar style = __webpack_require__(\"vbq8\");\nvar style_default = /*#__PURE__*/__webpack_require__.n(style);\n\n// EXTERNAL MODULE: ../node_modules/preact-router/dist/preact-router.es.js\nvar preact_router_es = __webpack_require__(\"/QC5\");\n\n// EXTERNAL MODULE: ./components/classdetail/style.scss\nvar classdetail_style = __webpack_require__(\"6hN1\");\nvar classdetail_style_default = /*#__PURE__*/__webpack_require__.n(classdetail_style);\n\n// EXTERNAL MODULE: ./components/payment/style.scss\nvar payment_style = __webpack_require__(\"Mmjd\");\nvar payment_style_default = /*#__PURE__*/__webpack_require__.n(payment_style);\n\n// EXTERNAL MODULE: ./utils/classNames.js\nvar classNames = __webpack_require__(\"1uTM\");\n\n// EXTERNAL MODULE: ./components/footerbutton/style.scss\nvar footerbutton_style = __webpack_require__(\"Dnk9\");\nvar footerbutton_style_default = /*#__PURE__*/__webpack_require__.n(footerbutton_style);\n\n// CONCATENATED MODULE: ./components/footerbutton/FooterButton.js\n\n\nfunction _objectDestructuringEmpty(obj) { if (obj == null) throw new TypeError(\"Cannot destructure undefined\"); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\nvar FooterButton_FooterButton = function (_Component) {\n  _inherits(FooterButton, _Component);\n\n  function FooterButton() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, FooterButton);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.onClick = function (e) {\n      if (_this.props.disabled) {\n        return e.preventDefault();\n      }\n      _this.props.onClick(e);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  FooterButton.prototype.render = function render(_ref, _ref2) {\n    var _classNames;\n\n    var children = _ref.children,\n        disabled = _ref.disabled,\n        hide = _ref.hide;\n\n    _objectDestructuringEmpty(_ref2);\n\n    return Object(preact_min[\"h\"])(\n      'div',\n      {\n        className: Object(classNames[\"b\" /* default */])((_classNames = {}, _classNames[footerbutton_style_default.a.footer] = true, _classNames[footerbutton_style_default.a.disabled] = disabled, _classNames[footerbutton_style_default.a.hide] = hide, _classNames))\n      },\n      Object(preact_min[\"h\"])(\n        'button',\n        { className: footerbutton_style_default.a.button, onClick: this.onClick, type: 'submit' },\n        children\n      )\n    );\n  };\n\n  return FooterButton;\n}(preact_min[\"Component\"]);\n\n\n// CONCATENATED MODULE: ./constants.js\nvar dayToDayString = {\n  1: 'Mon',\n  2: 'Tue',\n  3: 'Wed',\n  4: 'Thu',\n  5: 'Fri',\n  6: 'Sat',\n  7: 'Sun'\n};\n// EXTERNAL MODULE: ./components/stripeform/style.scss\nvar stripeform_style = __webpack_require__(\"GjWG\");\nvar stripeform_style_default = /*#__PURE__*/__webpack_require__.n(stripeform_style);\n\n// EXTERNAL MODULE: ../node_modules/loadjs/dist/loadjs.umd.js\nvar loadjs_umd = __webpack_require__(\"r4pm\");\nvar loadjs_umd_default = /*#__PURE__*/__webpack_require__.n(loadjs_umd);\n\n// EXTERNAL MODULE: ./api.js + 1 modules\nvar api = __webpack_require__(\"fitr\");\n\n// CONCATENATED MODULE: ./components/stripeform/StripeForm.js\n\n\nfunction StripeForm__objectDestructuringEmpty(obj) { if (obj == null) throw new TypeError(\"Cannot destructure undefined\"); }\n\nfunction StripeForm__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction StripeForm__possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction StripeForm__inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\nfunction loadStripe() {\n  return new Promise(function ($return, $error) {\n    return Promise.resolve(new Promise(function (resolve) {\n      return loadjs_umd_default()('https://js.stripe.com/v3/', resolve);\n    })).then(function ($await_4) {\n      try {\n        return $return();\n      } catch ($boundEx) {\n        return $error($boundEx);\n      }\n    }, $error);\n  });\n}\n\nvar StripeForm__ref = Object(preact_min[\"h\"])('div', { id: 'cc-form' });\n\nvar StripeElement = function (_Component) {\n  StripeForm__inherits(StripeElement, _Component);\n\n  function StripeElement() {\n    StripeForm__classCallCheck(this, StripeElement);\n\n    return StripeForm__possibleConstructorReturn(this, _Component.apply(this, arguments));\n  }\n\n  StripeElement.prototype.shouldComponentUpdate = function shouldComponentUpdate() {\n    return false;\n  };\n\n  StripeElement.prototype.componentDidMount = function componentDidMount() {\n    this.props.card.mount('#cc-form');\n  };\n\n  StripeElement.prototype.render = function render() {\n    return StripeForm__ref;\n  };\n\n  return StripeElement;\n}(preact_min[\"Component\"]);\n\nvar StripeForm__ref2 = Object(preact_min[\"h\"])('div', { id: 'payment-request-button' });\n\nvar StripePaymentRequestButton = function (_Component2) {\n  StripeForm__inherits(StripePaymentRequestButton, _Component2);\n\n  function StripePaymentRequestButton() {\n    var _temp, _this2, _ret;\n\n    StripeForm__classCallCheck(this, StripePaymentRequestButton);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this2 = StripeForm__possibleConstructorReturn(this, _Component2.call.apply(_Component2, [this].concat(args))), _this2), _this2.mount = function () {\n      return new Promise(function ($return, $error) {\n        var result;\n        return Promise.resolve(_this2.props.paymentRequest.canMakePayment()).then(function ($await_5) {\n          try {\n            result = $await_5;\n            if (result) {\n              _this2.props.prButton.mount('#payment-request-button');\n            } else {\n              document.getElementById('payment-request-button').style.display = 'none';\n            }\n            _this2.props.paymentRequest.on('paymentmethod', _this2.props.onPaymentMethod);\n            return $return();\n          } catch ($boundEx) {\n            return $error($boundEx);\n          }\n        }, $error);\n      });\n    }, _temp), StripeForm__possibleConstructorReturn(_this2, _ret);\n  }\n\n  StripePaymentRequestButton.prototype.componentDidMount = function componentDidMount() {\n    this.mount();\n  };\n\n  StripePaymentRequestButton.prototype.render = function render() {\n    return StripeForm__ref2;\n  };\n\n  return StripePaymentRequestButton;\n}(preact_min[\"Component\"]);\n\nvar _ref9 = Object(preact_min[\"h\"])(\n  'div',\n  null,\n  'Loading stripe'\n);\n\nvar StripeForm_StripeForm = function (_Component3) {\n  StripeForm__inherits(StripeForm, _Component3);\n\n  function StripeForm(props) {\n    StripeForm__classCallCheck(this, StripeForm);\n\n    var _this3 = StripeForm__possibleConstructorReturn(this, _Component3.call(this, props));\n\n    _this3.onSubmit = function (e) {\n      return new Promise(function ($return, $error) {\n        console.log('onstripesubmit');\n        return $return(_this3.onSubmitCard(e));\n      });\n    };\n\n    _this3.onSubmitCard = function (e) {\n      return new Promise(function ($return, $error) {\n        var res, billingDetails, response;\n        return Promise.resolve(_this3.stripe.createPaymentMethod('card', _this3.state.card)).then(function ($await_6) {\n          try {\n            res = $await_6;\n            console.log('res', res);\n            billingDetails = res.billingDetails;\n\n            _this3.setState({ billingDetails: billingDetails });\n            return Promise.resolve(_this3.confirm('method', {\n              payment_method_id: res.paymentMethod.id,\n              amount: _this3.getAmount()\n            })).then(function ($await_7) {\n              try {\n                response = $await_7;\n\n                if (response.error) {\n                  // Show error from server on payment form\n                  return $return(response);\n                } else if (response.requires_action) {\n                  return $return(_this3.handleAction(response));\n                }\n                return $return();\n              } catch ($boundEx) {\n                return $error($boundEx);\n              }\n            }, $error);\n          } catch ($boundEx) {\n            return $error($boundEx);\n          }\n        }, $error);\n      });\n    };\n\n    _this3.handleAction = function (response) {\n      return new Promise(function ($return, $error) {\n        var res, body, _response;\n\n        return Promise.resolve(_this3.stripe.handleCardAction(response.payment_intent_client_secret)).then(function ($await_8) {\n          try {\n            res = $await_8;\n\n            if (res.error) {\n              // Show error from Stripe.js in payment form\n              console.log('errorAction', res.error);\n              return $return(res.error);\n            } else {\n              body = {\n                payment_intent_id: res.paymentIntent.id,\n                amount: _this3.getAmount()\n              };\n              return Promise.resolve(_this3.confirm('intent', body)).then(function ($await_9) {\n                try {\n                  _response = $await_9;\n                  console.log('response', _response);\n                  return $return(_response);\n                } catch ($boundEx) {\n                  return $error($boundEx);\n                }\n              }, $error);\n            }\n            return $return();\n          } catch ($boundEx) {\n            return $error($boundEx);\n          }\n        }.bind(this), $error);\n      });\n    };\n\n    _this3.confirm = function (type, body) {\n      return new Promise(function ($return, $error) {\n        var response, confirmed;\n\n        console.log('body', body);\n        return Promise.resolve(fetch(api[\"a\" /* BASE_URL */] + '/api/payment-' + type + '/confirm/', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(body)\n        })).then(function ($await_10) {\n          try {\n            response = $await_10;\n\n            return Promise.resolve(response.json()).then(function ($await_11) {\n              try {\n                confirmed = $await_11;\n                console.log('confirmed', confirmed);\n                return $return(confirmed);\n              } catch ($boundEx) {\n                return $error($boundEx);\n              }\n            }, $error);\n          } catch ($boundEx) {\n            return $error($boundEx);\n          }\n        }, $error);\n      });\n    };\n\n    _this3.onSubmitCard1 = function (e) {\n      return new Promise(function ($return, $error) {\n        var _ref3, client_secret, res;\n\n        return Promise.resolve(_this3.getClientSecret()).then(function ($await_12) {\n          try {\n            _ref3 = $await_12, client_secret = _ref3.client_secret;\n\n            console.log('clientSecret', client_secret);\n            return Promise.resolve(_this3.stripe.handleCardSetup(client_secret, _this3.state.card, {})).then(function ($await_13) {\n              try {\n                res = $await_13;\n                if (res.error) return $return(res);\n                return $return(_this3.onSuccessfulCardSetup(res));\n              } catch ($boundEx) {\n                return $error($boundEx);\n              }\n            }, $error);\n          } catch ($boundEx) {\n            return $error($boundEx);\n          }\n        }, $error);\n      });\n    };\n\n    _this3.getAmount = function () {\n      return parseFloat(_this3.props.amount) * 100;\n    };\n\n    _this3.onError = function (err) {\n      _this3.props.onError(err);\n    };\n\n    _this3.getClientSecret = function () {\n      return new Promise(function ($return, $error) {\n        var res;\n        return Promise.resolve(fetch(api[\"a\" /* BASE_URL */] + '/api/intent/' + _this3.getAmount() + '/')).then(function ($await_14) {\n          try {\n            res = $await_14;\n            console.log('res', res);\n            if (res.ok) {\n              return $return(res.json());\n            }\n            console.log('err', res);\n            return $return(res);\n          } catch ($boundEx) {\n            return $error($boundEx);\n          }\n        }, $error);\n      });\n    };\n\n    _this3.onPaymentMethod = function (ev) {\n      return new Promise(function ($return, $error) {\n        var _ref4, client_secret, _ref5, confirmError, paymentIntent, _ref6, error;\n\n        return Promise.resolve(_this3.getClientSecret()).then(function ($await_15) {\n          try {\n            _ref4 = $await_15, client_secret = _ref4.client_secret;\n            return Promise.resolve(_this3.stripe.confirmPaymentIntent(client_secret, {\n              payment_method: ev.paymentMethod.id\n            })).then(function ($await_16) {\n              try {\n                _ref5 = $await_16, confirmError = _ref5.error, paymentIntent = _ref5.paymentIntent;\n\n\n                if (confirmError) {\n                  // Report to the browser that the payment failed, prompting it to\n                  // re-show the payment interface, or show an error message and close\n                  // the payment interface.\n                  ev.complete('fail');\n                  return $If_2.call(this);\n                } else {\n                  // Report to the browser that the confirmation was successful, prompting\n                  // it to close the browser payment method collection interface.\n                  ev.complete('success');\n                  // Let Stripe.js handle the rest of the payment flow.\n                  return Promise.resolve(_this3.stripe.handleCardPayment(clientSecret)).then(function ($await_17) {\n                    try {\n                      _ref6 = $await_17, error = _ref6.error;\n\n                      if (error) {\n                        // The payment failed -- ask your customer for a new payment method.\n                        console.log('The payment failed -- ask your customer for a new payment method.');\n                      } else {\n                        // The payment has succeeded.\n                        console.log('The payment has succeeded.');\n                      }\n                      return $If_2.call(this);\n                    } catch ($boundEx) {\n                      return $error($boundEx);\n                    }\n                  }.bind(this), $error);\n                }\n\n                function $If_2() {\n                  return $return();\n                }\n              } catch ($boundEx) {\n                return $error($boundEx);\n              }\n            }.bind(this), $error);\n          } catch ($boundEx) {\n            return $error($boundEx);\n          }\n        }.bind(this), $error);\n      });\n    };\n\n    _this3.state = {\n      loadingStripe: true,\n      responses: []\n    };\n    _this3.props.onSubmit(_this3.onSubmit);\n    return _this3;\n  }\n\n  StripeForm.prototype.componentDidMount = function componentDidMount() {\n    return new Promise(function ($return, $error) {\n      var card, paymentRequest, prButton;\n\n      if (!('Stripe' in window)) {\n        return Promise.resolve(loadStripe()).then(function ($await_18) {\n          try {\n            return $If_3.call(this);\n          } catch ($boundEx) {\n            return $error($boundEx);\n          }\n        }.bind(this), $error);\n      }\n\n      function $If_3() {\n        this.setState({ loadingStripe: false });\n        // TODO: get from env\n        this.stripe = window.Stripe('pk_test_i0mT0MQhBYOTm3kcHw73xILH');\n        this.elements = this.stripe.elements();\n        card = this.elements.create('card', { hidePostalCode: true });\n        paymentRequest = this.stripe.paymentRequest({\n          country: 'GB',\n          currency: 'gbp',\n          total: {\n            label: 'Class price',\n            amount: this.getAmount()\n          },\n          requestPayerName: true,\n          requestPayerEmail: true\n        });\n        prButton = this.elements.create('paymentRequestButton', {\n          paymentRequest: paymentRequest\n        });\n        this.setState({ card: card, prButton: prButton, paymentRequest: paymentRequest });\n        return $return();\n      }\n\n      return $If_3.call(this);\n    }.bind(this));\n  };\n\n  StripeForm.prototype.render = function render(_ref7, _ref8) {\n    var res = _ref8.res;\n\n    StripeForm__objectDestructuringEmpty(_ref7);\n\n    return Object(preact_min[\"h\"])(\n      'div',\n      null,\n      this.state.loadingStripe ? _ref9 : Object(preact_min[\"h\"])(\n        'div',\n        { className: stripeform_style_default.a.formContainer },\n        Object(preact_min[\"h\"])(StripePaymentRequestButton, {\n          paymentRequest: this.state.paymentRequest,\n          prButton: this.state.prButton,\n          onPaymentMethod: this.onPaymentMethod\n        }),\n        Object(preact_min[\"h\"])(StripeElement, { card: this.state.card }),\n        Object(preact_min[\"h\"])(\n          'pre',\n          null,\n          JSON.stringify(res, null, 2)\n        )\n      )\n    );\n  };\n\n  return StripeForm;\n}(preact_min[\"Component\"]);\n\n\n// CONCATENATED MODULE: ./components/payment/Payment.js\n\n\nfunction Payment__objectDestructuringEmpty(obj) { if (obj == null) throw new TypeError(\"Cannot destructure undefined\"); }\n\nfunction Payment__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction Payment__possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction Payment__inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\nvar _ref3 = Object(preact_min[\"h\"])(\n  'div',\n  null,\n  'Class not found'\n);\n\nvar _ref4 = Object(preact_min[\"h\"])('div', null);\n\nvar _ref5 = Object(preact_min[\"h\"])('div', { className: 'hr' });\n\nvar _ref6 = Object(preact_min[\"h\"])('div', { className: 'hr' });\n\nvar Payment__ref7 = Object(preact_min[\"h\"])('div', { className: 'hr' });\n\nvar Payment__ref8 = Object(preact_min[\"h\"])('div', { className: 'bottom' });\n\nvar Payment__ref9 = Object(preact_min[\"h\"])(\n  'div',\n  null,\n  'Pay now'\n);\n\nvar Payment_Payment = function (_Component) {\n  Payment__inherits(Payment, _Component);\n\n  function Payment(props) {\n    Payment__classCallCheck(this, Payment);\n\n    var _this = Payment__possibleConstructorReturn(this, _Component.call(this, props));\n\n    _this.onChange = function () {\n      return function () {};\n    };\n\n    _this.onSubmit = function (e) {\n      return new Promise(function ($return, $error) {\n        var res;\n\n        e.preventDefault();\n        e.stopPropagation();\n        console.log('onsubmit');\n        if (!_this.state.stripeToken) {\n          return Promise.resolve(_this.stripeSubmit(e)).then(function ($await_2) {\n            try {\n              res = $await_2;\n              console.log('res2', res);\n              if (res.error) {\n                _this.setState({ error: res.error.message });\n              }\n              // TODO: set valid stripe token\n              return $If_1.call(this);\n            } catch ($boundEx) {\n              return $error($boundEx);\n            }\n          }.bind(this), $error);\n        }\n\n        function $If_1() {\n          return $return();\n        }\n\n        return $If_1.call(this);\n      });\n    };\n\n    _this.state = {\n      formIsValid: false,\n      stripeToken: null\n    };\n    return _this;\n  }\n\n  Payment.prototype.render = function render(_ref, _ref2) {\n    var _classNames,\n        _this2 = this;\n\n    var item = _ref.item,\n        show = _ref.show;\n\n    Payment__objectDestructuringEmpty(_ref2);\n\n    if (!item) return _ref3;\n    return Object(preact_min[\"h\"])(\n      'div',\n      null,\n      Object(preact_min[\"h\"])(\n        'form',\n        {\n          className: Object(classNames[\"b\" /* default */])((_classNames = {}, _classNames[payment_style_default.a.paymentWrapper] = true, _classNames[payment_style_default.a.close] = !show, _classNames))\n        },\n        Object(preact_min[\"h\"])(\n          'div',\n          { className: payment_style_default.a.paymentMain },\n          Object(preact_min[\"h\"])(\n            'div',\n            { className: payment_style_default.a.paymentHeader },\n            Object(preact_min[\"h\"])('div', {\n              className: 'leftArrow ' + payment_style_default.a.back,\n              onClick: this.props.onClose\n            }),\n            Object(preact_min[\"h\"])(\n              'div',\n              { className: payment_style_default.a.title },\n              'Checkout'\n            ),\n            _ref4\n          ),\n          _ref5,\n          Object(preact_min[\"h\"])(\n            'div',\n            { className: payment_style_default.a.section },\n            Object(preact_min[\"h\"])(\n              'div',\n              { className: payment_style_default.a.classTitle },\n              item.title\n            ),\n            Object(preact_min[\"h\"])(\n              'div',\n              { className: payment_style_default.a.time },\n              dayToDayString[item.day],\n              ' ',\n              item.start_time,\n              ' - ',\n              item.end_time\n            ),\n            Object(preact_min[\"h\"])(\n              'div',\n              { className: payment_style_default.a.location },\n              item.venue.name,\n              ' - ',\n              item.venue.area\n            )\n          ),\n          _ref6,\n          Object(preact_min[\"h\"])(\n            'div',\n            { className: payment_style_default.a.section },\n            Object(preact_min[\"h\"])(\n              'div',\n              { className: payment_style_default.a.titleContainer },\n              Object(preact_min[\"h\"])(\n                'div',\n                { className: payment_style_default.a.title },\n                'Total'\n              ),\n              Object(preact_min[\"h\"])(\n                'div',\n                { className: payment_style_default.a.titleAside },\n                '\\xA3',\n                parseFloat(item.price).toFixed(2)\n              )\n            ),\n            item.extra_fee && Object(preact_min[\"h\"])(\n              'div',\n              { className: payment_style_default.a.extra },\n              'Please note this studio will charge you an additional',\n              Object(preact_min[\"h\"])(\n                'div',\n                { className: payment_style_default.a.strong },\n                '\\xA3',\n                item.extra_fee,\n                ' studio entry fee'\n              ),\n              'upon arrival.'\n            )\n          ),\n          Payment__ref7,\n          Object(preact_min[\"h\"])(\n            'div',\n            { className: payment_style_default.a.section },\n            Object(preact_min[\"h\"])(\n              'div',\n              { className: payment_style_default.a.titleContainer },\n              Object(preact_min[\"h\"])(\n                'div',\n                { className: payment_style_default.a.title },\n                'Payment'\n              )\n            ),\n            this.state.error && Object(preact_min[\"h\"])(\n              'div',\n              { className: 'errorContainer' },\n              Object(preact_min[\"h\"])(\n                'div',\n                { className: 'errorContainer_message' },\n                this.state.error\n              )\n            ),\n            Object(preact_min[\"h\"])(\n              'div',\n              { className: payment_style_default.a.paymentForm },\n              Object(preact_min[\"h\"])(\n                'div',\n                { className: payment_style_default.a.inputContainer },\n                Object(preact_min[\"h\"])('input', {\n                  type: 'text',\n                  className: payment_style_default.a.input,\n                  placeholder: 'Phone number',\n                  onChange: this.onChange('phone')\n                })\n              ),\n              show && Object(preact_min[\"h\"])(StripeForm_StripeForm, {\n                amount: item.price,\n                onSubmit: function onSubmit(onStripeSubmit) {\n                  _this2.stripeSubmit = onStripeSubmit;\n                }\n              })\n            )\n          ),\n          Payment__ref8\n        ),\n        Object(preact_min[\"h\"])(\n          FooterButton_FooterButton,\n          {\n            hide: !show\n            // disabled={!this.state.formIsValid}\n            , onClick: this.onSubmit\n          },\n          Payment__ref9\n        )\n      )\n    );\n  };\n\n  return Payment;\n}(preact_min[\"Component\"]);\n\n\n// CONCATENATED MODULE: ./components/classdetail/ClassDetail.js\n\n\nfunction ClassDetail__objectDestructuringEmpty(obj) { if (obj == null) throw new TypeError(\"Cannot destructure undefined\"); }\n\nfunction ClassDetail__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction ClassDetail__possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction ClassDetail__inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\nvar ClassDetail__ref3 = Object(preact_min[\"h\"])(\n  'div',\n  null,\n  'Class not found'\n);\n\nvar ClassDetail__ref4 = Object(preact_min[\"h\"])('div', { className: 'leftArrow' });\n\nvar ClassDetail__ref5 = Object(preact_min[\"h\"])('div', { className: 'directions' });\n\nvar ClassDetail__ref6 = Object(preact_min[\"h\"])('div', { className: 'rightArrow' });\n\nvar ClassDetail__ref7 = Object(preact_min[\"h\"])('div', { className: 'rightArrow' });\n\nvar ClassDetail_ClassDetail = function (_Component) {\n  ClassDetail__inherits(ClassDetail, _Component);\n\n  function ClassDetail(props) {\n    ClassDetail__classCallCheck(this, ClassDetail);\n\n    var _this = ClassDetail__possibleConstructorReturn(this, _Component.call(this, props));\n\n    _this.onBack = function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      if (_this.props.i) {\n        return window.history.back();\n      }\n      Object(preact_router_es[\"route\"])('/search/');\n    };\n\n    _this.hidePayment = function (e) {\n      _this.setState({ showPayment: false });\n    };\n\n    _this.state = {\n      item: _this.props.data.state.classes[props.matches.id],\n      showPayment: false\n    };\n    return _this;\n  }\n\n  ClassDetail.prototype.componentDidMount = function componentDidMount() {\n    return new Promise(function ($return, $error) {\n      var res;\n      return Promise.resolve(this.props.data.getClass(this.props.matches.id)).then(function ($await_1) {\n        try {\n          res = $await_1;\n          this.setState({\n            item: res\n          });\n          return $return();\n        } catch ($boundEx) {\n          return $error($boundEx);\n        }\n      }.bind(this), $error);\n    }.bind(this));\n  };\n\n  ClassDetail.prototype.render = function render(_ref, _ref2) {\n    var _this2 = this;\n\n    var item = _ref2.item,\n        showPayment = _ref2.showPayment;\n\n    ClassDetail__objectDestructuringEmpty(_ref);\n\n    if (!item) return ClassDetail__ref3;\n    var instructor = item.instructors[0];\n    var profile = instructor.profile || { bio: '' };\n    return Object(preact_min[\"h\"])(\n      'div',\n      null,\n      Object(preact_min[\"h\"])(Payment_Payment, {\n        show: showPayment,\n        onClose: this.hidePayment,\n        item: item\n      }),\n      Object(preact_min[\"h\"])(\n        'div',\n        { className: classdetail_style_default.a.classDetailWrapper },\n        Object(preact_min[\"h\"])(\n          'div',\n          { className: classdetail_style_default.a.classHero },\n          Object(preact_min[\"h\"])(\n            'div',\n            { className: classdetail_style_default.a.heroImage },\n            Object(preact_min[\"h\"])('img', {\n              src: item.hero_image_url || '/assets/images/class.jpeg',\n              alt: item.title\n            }),\n            Object(preact_min[\"h\"])(\n              'a',\n              {\n                onClick: this.onBack,\n                href: '/search',\n                className: '' + classdetail_style_default.a.back\n              },\n              ClassDetail__ref4\n            ),\n            Object(preact_min[\"h\"])(\n              'div',\n              { className: classdetail_style_default.a.timeLabel },\n              dayToDayString[item.day].toUpperCase(),\n              ' ',\n              item.start_time,\n              ' -',\n              ' ',\n              item.end_time\n            )\n          )\n        ),\n        Object(preact_min[\"h\"])(\n          'div',\n          { className: classdetail_style_default.a.main },\n          Object(preact_min[\"h\"])(\n            'div',\n            { className: classdetail_style_default.a.mainTitle },\n            item.title\n          ),\n          Object(preact_min[\"h\"])(\n            'div',\n            { className: classdetail_style_default.a.address },\n            item.venue.name,\n            ' ',\n            item.venue.area\n          ),\n          Object(preact_min[\"h\"])(\n            'a',\n            {\n              href: item.venue.google_maps_url ? item.venue.google_maps_url : 'https://www.google.co.uk/maps/dir//' + item.venue.address_line_1 + ' ' + item.venue.postcode,\n              target: '_blank',\n              className: classdetail_style_default.a.well,\n              style: { borderTop: '1px solid var(--off-white)' }\n            },\n            Object(preact_min[\"h\"])(\n              'div',\n              { className: classdetail_style_default.a.wellIcon },\n              ClassDetail__ref5\n            ),\n            Object(preact_min[\"h\"])(\n              'div',\n              { className: classdetail_style_default.a.wellMain },\n              Object(preact_min[\"h\"])(\n                'div',\n                { className: classdetail_style_default.a.wellName },\n                item.venue.name\n              ),\n              Object(preact_min[\"h\"])(\n                'div',\n                { className: classdetail_style_default.a.wellDescription },\n                item.venue.address_line_1,\n                ', ',\n                item.venue.postcode\n              )\n            ),\n            Object(preact_min[\"h\"])(\n              'div',\n              { className: classdetail_style_default.a.wellAction },\n              ClassDetail__ref6\n            )\n          ),\n          Object(preact_min[\"h\"])(\n            'a',\n            { className: classdetail_style_default.a.well, href: '' + profile.slug },\n            Object(preact_min[\"h\"])(\n              'div',\n              { className: classdetail_style_default.a.wellIcon },\n              Object(preact_min[\"h\"])('img', {\n                className: classdetail_style_default.a.instructorAvatar,\n                src: profile.profile_image_url || 'https://api.adorable.io/avatars/60/' + instructor.email + '.png',\n                alt: instructor.name\n              })\n            ),\n            Object(preact_min[\"h\"])(\n              'div',\n              { className: classdetail_style_default.a.wellMain },\n              Object(preact_min[\"h\"])(\n                'div',\n                { className: classdetail_style_default.a.wellName },\n                instructor.name\n              ),\n              Object(preact_min[\"h\"])(\n                'div',\n                { className: classdetail_style_default.a.wellDescription },\n                profile.bio.substring(0, 50)\n              )\n            ),\n            Object(preact_min[\"h\"])(\n              'div',\n              { className: classdetail_style_default.a.wellAction },\n              ClassDetail__ref7\n            )\n          ),\n          item.description && Object(preact_min[\"h\"])(\n            'div',\n            { className: classdetail_style_default.a.section },\n            Object(preact_min[\"h\"])(\n              'div',\n              { className: classdetail_style_default.a.title },\n              'About'\n            ),\n            Object(preact_min[\"h\"])(\n              'div',\n              { className: classdetail_style_default.a.description },\n              item.description\n            )\n          )\n        )\n      ),\n      Object(preact_min[\"h\"])(\n        FooterButton_FooterButton,\n        { onClick: function onClick() {\n            return _this2.setState({ showPayment: true });\n          } },\n        Object(preact_min[\"h\"])(\n          'div',\n          null,\n          '\\xA3',\n          item.price\n        ),\n        Object(preact_min[\"h\"])(\n          'div',\n          { className: classdetail_style_default.a.priceLabel },\n          'Book now'\n        )\n      )\n    );\n  };\n\n  return ClassDetail;\n}(preact_min[\"Component\"]);\n\n\n// CONCATENATED MODULE: ../node_modules/babel-loader/lib??ref--0!./routes/class.page/index.js\n\n\n\n\nClassDetail_ClassDetail.getInitialProps = function (_ref) {\n  var id = _ref.id;\n\n  return new Promise(function (resolve) {\n    fetch('https://instructorlist-django.herokuapp.com/api/classes/' + id).then(function (res) {\n      res.json().then(function (json) {\n        return resolve(json);\n      });\n    });\n  });\n};\n\n/* harmony default export */ var class_page = __webpack_exports__[\"default\"] = (ClassDetail_ClassDetail);\n\n/***/ }),\n\n/***/ \"Mmjd\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"paymentWrapper\":\"paymentWrapper__1x25b\",\"close\":\"close__1l-EC\",\"paymentMain\":\"paymentMain__2L3VM\",\"paymentHeader\":\"paymentHeader__3BZWN\",\"back\":\"back__1GJnh\",\"title\":\"title__1Os6k\",\"section\":\"section__2SSUU\",\"time\":\"time__IA1AL\",\"classTitle\":\"classTitle__2boOm\",\"titleContainer\":\"titleContainer__O_OAw\",\"extra\":\"extra__ktVQ8\",\"strong\":\"strong__ved2L\",\"paymentForm\":\"paymentForm__TFqeV\",\"inputContainer\":\"inputContainer__13SbB\"};\n\n/***/ }),\n\n/***/ \"r4pm\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (root, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.loadjs = factory();\n  }\n})(this, function () {\n  /**\n   * Global dependencies.\n   * @global {Object} document - DOM\n   */\n\n  var devnull = function devnull() {},\n      bundleIdCache = {},\n      bundleResultCache = {},\n      bundleCallbackQueue = {};\n\n  /**\n   * Subscribe to bundle load event.\n   * @param {string[]} bundleIds - Bundle ids\n   * @param {Function} callbackFn - The callback function\n   */\n  function subscribe(bundleIds, callbackFn) {\n    // listify\n    bundleIds = bundleIds.push ? bundleIds : [bundleIds];\n\n    var depsNotFound = [],\n        i = bundleIds.length,\n        numWaiting = i,\n        fn,\n        bundleId,\n        r,\n        q;\n\n    // define callback function\n    fn = function fn(bundleId, pathsNotFound) {\n      if (pathsNotFound.length) depsNotFound.push(bundleId);\n\n      numWaiting--;\n      if (!numWaiting) callbackFn(depsNotFound);\n    };\n\n    // register callback\n    while (i--) {\n      bundleId = bundleIds[i];\n\n      // execute callback if in result cache\n      r = bundleResultCache[bundleId];\n      if (r) {\n        fn(bundleId, r);\n        continue;\n      }\n\n      // add to callback queue\n      q = bundleCallbackQueue[bundleId] = bundleCallbackQueue[bundleId] || [];\n      q.push(fn);\n    }\n  }\n\n  /**\n   * Publish bundle load event.\n   * @param {string} bundleId - Bundle id\n   * @param {string[]} pathsNotFound - List of files not found\n   */\n  function publish(bundleId, pathsNotFound) {\n    // exit if id isn't defined\n    if (!bundleId) return;\n\n    var q = bundleCallbackQueue[bundleId];\n\n    // cache result\n    bundleResultCache[bundleId] = pathsNotFound;\n\n    // exit if queue is empty\n    if (!q) return;\n\n    // empty callback queue\n    while (q.length) {\n      q[0](bundleId, pathsNotFound);\n      q.splice(0, 1);\n    }\n  }\n\n  /**\n   * Execute callbacks.\n   * @param {Object or Function} args - The callback args\n   * @param {string[]} depsNotFound - List of dependencies not found\n   */\n  function executeCallbacks(args, depsNotFound) {\n    // accept function as argument\n    if (args.call) args = { success: args };\n\n    // success and error callbacks\n    if (depsNotFound.length) (args.error || devnull)(depsNotFound);else (args.success || devnull)(args);\n  }\n\n  /**\n   * Load individual file.\n   * @param {string} path - The file path\n   * @param {Function} callbackFn - The callback function\n   */\n  function loadFile(path, callbackFn, args, numTries) {\n    var doc = document,\n        async = args.async,\n        maxTries = (args.numRetries || 0) + 1,\n        beforeCallbackFn = args.before || devnull,\n        pathStripped = path.replace(/^(css|img)!/, ''),\n        isLegacyIECss,\n        e;\n\n    numTries = numTries || 0;\n\n    if (/(^css!|\\.css$)/.test(path)) {\n      // css\n      e = doc.createElement('link');\n      e.rel = 'stylesheet';\n      e.href = pathStripped;\n\n      // tag IE9+\n      isLegacyIECss = 'hideFocus' in e;\n\n      // use preload in IE Edge (to detect load errors)\n      if (isLegacyIECss && e.relList) {\n        isLegacyIECss = 0;\n        e.rel = 'preload';\n        e.as = 'style';\n      }\n    } else if (/(^img!|\\.(png|gif|jpg|svg)$)/.test(path)) {\n      // image\n      e = doc.createElement('img');\n      e.src = pathStripped;\n    } else {\n      // javascript\n      e = doc.createElement('script');\n      e.src = path;\n      e.async = async === undefined ? true : async;\n    }\n\n    e.onload = e.onerror = e.onbeforeload = function (ev) {\n      var result = ev.type[0];\n\n      // treat empty stylesheets as failures to get around lack of onerror\n      // support in IE9-11\n      if (isLegacyIECss) {\n        try {\n          if (!e.sheet.cssText.length) result = 'e';\n        } catch (x) {\n          // sheets objects created from load errors don't allow access to\n          // `cssText` (unless error is Code:18 SecurityError)\n          if (x.code != 18) result = 'e';\n        }\n      }\n\n      // handle retries in case of load failure\n      if (result == 'e') {\n        // increment counter\n        numTries += 1;\n\n        // exit function and try again\n        if (numTries < maxTries) {\n          return loadFile(path, callbackFn, args, numTries);\n        }\n      } else if (e.rel == 'preload' && e.as == 'style') {\n        // activate preloaded stylesheets\n        return e.rel = 'stylesheet'; // jshint ignore:line\n      }\n\n      // execute callback\n      callbackFn(path, result, ev.defaultPrevented);\n    };\n\n    // add to document (unless callback returns `false`)\n    if (beforeCallbackFn(path, e) !== false) doc.head.appendChild(e);\n  }\n\n  /**\n   * Load multiple files.\n   * @param {string[]} paths - The file paths\n   * @param {Function} callbackFn - The callback function\n   */\n  function loadFiles(paths, callbackFn, args) {\n    // listify paths\n    paths = paths.push ? paths : [paths];\n\n    var numWaiting = paths.length,\n        x = numWaiting,\n        pathsNotFound = [],\n        fn,\n        i;\n\n    // define callback function\n    fn = function fn(path, result, defaultPrevented) {\n      // handle error\n      if (result == 'e') pathsNotFound.push(path);\n\n      // handle beforeload event. If defaultPrevented then that means the load\n      // will be blocked (ex. Ghostery/ABP on Safari)\n      if (result == 'b') {\n        if (defaultPrevented) pathsNotFound.push(path);else return;\n      }\n\n      numWaiting--;\n      if (!numWaiting) callbackFn(pathsNotFound);\n    };\n\n    // load scripts\n    for (i = 0; i < x; i++) {\n      loadFile(paths[i], fn, args);\n    }\n  }\n\n  /**\n   * Initiate script load and register bundle.\n   * @param {(string|string[])} paths - The file paths\n   * @param {(string|Function|Object)} [arg1] - The (1) bundleId or (2) success\n   *   callback or (3) object literal with success/error arguments, numRetries,\n   *   etc.\n   * @param {(Function|Object)} [arg2] - The (1) success callback or (2) object\n   *   literal with success/error arguments, numRetries, etc.\n   */\n  function loadjs(paths, arg1, arg2) {\n    var bundleId, args;\n\n    // bundleId (if string)\n    if (arg1 && arg1.trim) bundleId = arg1;\n\n    // args (default is {})\n    args = (bundleId ? arg2 : arg1) || {};\n\n    // throw error if bundle is already defined\n    if (bundleId) {\n      if (bundleId in bundleIdCache) {\n        throw \"LoadJS\";\n      } else {\n        bundleIdCache[bundleId] = true;\n      }\n    }\n\n    function loadFn(resolve, reject) {\n      loadFiles(paths, function (pathsNotFound) {\n        // execute callbacks\n        executeCallbacks(args, pathsNotFound);\n\n        // resolve Promise\n        if (resolve) {\n          executeCallbacks({ success: resolve, error: reject }, pathsNotFound);\n        }\n\n        // publish bundle load event\n        publish(bundleId, pathsNotFound);\n      }, args);\n    }\n\n    if (args.returnPromise) return new Promise(loadFn);else loadFn();\n  }\n\n  /**\n   * Execute callbacks when dependencies have been satisfied.\n   * @param {(string|string[])} deps - List of bundle ids\n   * @param {Object} args - success/error arguments\n   */\n  loadjs.ready = function ready(deps, args) {\n    // subscribe to bundle load event\n    subscribe(deps, function (depsNotFound) {\n      // execute callbacks\n      executeCallbacks(args, depsNotFound);\n    });\n\n    return loadjs;\n  };\n\n  /**\n   * Manually satisfy bundle dependencies.\n   * @param {string} bundleId - The bundle id\n   */\n  loadjs.done = function done(bundleId) {\n    publish(bundleId, []);\n  };\n\n  /**\n   * Reset loadjs dependencies statuses\n   */\n  loadjs.reset = function reset() {\n    bundleIdCache = {};\n    bundleResultCache = {};\n    bundleCallbackQueue = {};\n  };\n\n  /**\n   * Determine if bundle has already been defined\n   * @param String} bundleId - The bundle id\n   */\n  loadjs.isDefined = function isDefined(bundleId) {\n    return bundleId in bundleIdCache;\n  };\n\n  // export\n  return loadjs;\n});\n\n/***/ }),\n\n/***/ \"vbq8\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// route-class.page.chunk.a718a.js","export const classNames = obj => {\n  return Object.entries(obj)\n    .filter(e => e[1])\n    .map(e => e[0])\n    .join(' ')\n}\n\nexport default classNames\n\n\n\n// WEBPACK FOOTER //\n// ./utils/classNames.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"classDetailWrapper\":\"classDetailWrapper__2T8mX\",\"heroImage\":\"heroImage__Qr4BU\",\"back\":\"back__1aQJI\",\"timeLabel\":\"timeLabel__1dmWn\",\"main\":\"main__ieBPs\",\"mainTitle\":\"mainTitle__3QRdT\",\"address\":\"address__teZVQ\",\"description\":\"description__25Gbt\",\"section\":\"section__1vexu\",\"title\":\"title__gjFEQ\",\"instructorAvatar\":\"instructorAvatar__25zFg\",\"well\":\"well__372E6\",\"wellIcon\":\"wellIcon__3hDcb\",\"wellMain\":\"wellMain__1JhNM\",\"wellDescription\":\"wellDescription__1PEH9\",\"wellAction\":\"wellAction__3j7JB\",\"priceLabel\":\"priceLabel__3dyS3\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/classdetail/style.scss\n// module id = 6hN1\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"footer\":\"footer__YnoJr\",\"hide\":\"hide__3aVn4\",\"disabled\":\"disabled__gp8z1\",\"button\":\"button__2PQ5O\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/footerbutton/style.scss\n// module id = Dnk9\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"formContainer\":\"formContainer__1XJ08\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/stripeform/style.scss\n// module id = GjWG\n// module chunks = 0","import { h, Component } from 'preact'\nimport { route } from 'preact-router'\nimport style from './style'\nimport classNames from '../../utils/classNames'\nimport FooterButton from '../footerbutton/FooterButton'\nimport { dayToDayString } from '../../constants'\nimport loadjs from 'loadjs'\nimport { BASE_URL } from '../../api'\n\nasync function loadStripe() {\n  await new Promise(resolve => loadjs('https://js.stripe.com/v3/', resolve))\n}\n\nclass StripeElement extends Component {\n  shouldComponentUpdate() {\n    return false\n  }\n\n  componentDidMount() {\n    this.props.card.mount('#cc-form')\n  }\n\n  render() {\n    return <div id=\"cc-form\"></div>\n  }\n}\n\nclass StripePaymentRequestButton extends Component {\n  mount = async () => {\n    // Check the availability of the Payment Request API first.\n    const result = await this.props.paymentRequest.canMakePayment()\n    if (result) {\n      this.props.prButton.mount('#payment-request-button')\n    } else {\n      document.getElementById('payment-request-button').style.display = 'none'\n    }\n    this.props.paymentRequest.on('paymentmethod', this.props.onPaymentMethod)\n  }\n\n  componentDidMount() {\n    this.mount()\n  }\n\n  render() {\n    return <div id=\"payment-request-button\"></div>\n  }\n}\n\nexport default class StripeForm extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      loadingStripe: true,\n      responses: [],\n    }\n    this.props.onSubmit(this.onSubmit)\n  }\n\n  async componentDidMount() {\n    if (!('Stripe' in window)) await loadStripe()\n    this.setState({ loadingStripe: false })\n    // TODO: get from env\n    this.stripe = window.Stripe('pk_test_i0mT0MQhBYOTm3kcHw73xILH')\n    this.elements = this.stripe.elements()\n    const card = this.elements.create('card', { hidePostalCode: true })\n    const paymentRequest = this.stripe.paymentRequest({\n      country: 'GB',\n      currency: 'gbp',\n      total: {\n        label: 'Class price',\n        amount: this.getAmount(),\n      },\n      requestPayerName: true,\n      requestPayerEmail: true,\n    })\n    const prButton = this.elements.create('paymentRequestButton', {\n      paymentRequest,\n    })\n    this.setState({ card, prButton, paymentRequest })\n  }\n\n  onSubmit = async e => {\n    console.log('onstripesubmit')\n    return this.onSubmitCard(e)\n  }\n\n  onSubmitCard = async e => {\n    const res = await this.stripe.createPaymentMethod('card', this.state.card)\n    console.log('res', res)\n    const { billingDetails } = res\n    this.setState({ billingDetails })\n    let response = await this.confirm('method', {\n      payment_method_id: res.paymentMethod.id,\n      amount: this.getAmount(),\n    })\n\n    if (response.error) {\n      // Show error from server on payment form\n      return response\n    } else if (response.requires_action) {\n      return this.handleAction(response)\n    }\n  }\n\n  handleAction = async response => {\n    const res = await this.stripe.handleCardAction(\n      response.payment_intent_client_secret,\n    )\n\n    if (res.error) {\n      // Show error from Stripe.js in payment form\n      console.log('errorAction', res.error)\n      return res.error\n    } else {\n      const body = {\n        payment_intent_id: res.paymentIntent.id,\n        amount: this.getAmount(),\n      }\n      const response = await this.confirm('intent', body)\n      console.log('response', response)\n      return response\n    }\n  }\n\n  confirm = async (type, body) => {\n    console.log('body', body)\n    const response = await fetch(`${BASE_URL}/api/payment-${type}/confirm/`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(body),\n    })\n\n    let confirmed = await response.json()\n    console.log('confirmed', confirmed)\n    return confirmed\n  }\n\n  onSubmitCard1 = async e => {\n    const { client_secret } = await this.getClientSecret()\n    console.log('clientSecret', client_secret)\n    const res = await this.stripe.handleCardSetup(\n      client_secret,\n      this.state.card,\n      {},\n    )\n    if (res.error) return res\n    return this.onSuccessfulCardSetup(res)\n  }\n\n  getAmount = () => parseFloat(this.props.amount) * 100\n\n  onError = err => {\n    this.props.onError(err)\n  }\n\n  getClientSecret = async () => {\n    let res = await fetch(`${BASE_URL}/api/intent/${this.getAmount()}/`)\n    console.log('res', res)\n    if (res.ok) {\n      return res.json()\n    }\n    console.log('err', res)\n    return res\n  }\n\n  onPaymentMethod = async ev => {\n    const { client_secret } = await this.getClientSecret()\n    const {\n      error: confirmError,\n      paymentIntent,\n    } = await this.stripe.confirmPaymentIntent(client_secret, {\n      payment_method: ev.paymentMethod.id,\n    })\n\n    if (confirmError) {\n      // Report to the browser that the payment failed, prompting it to\n      // re-show the payment interface, or show an error message and close\n      // the payment interface.\n      ev.complete('fail')\n    } else {\n      // Report to the browser that the confirmation was successful, prompting\n      // it to close the browser payment method collection interface.\n      ev.complete('success')\n      // Let Stripe.js handle the rest of the payment flow.\n      const { error } = await this.stripe.handleCardPayment(clientSecret)\n      if (error) {\n        // The payment failed -- ask your customer for a new payment method.\n        console.log(\n          'The payment failed -- ask your customer for a new payment method.',\n        )\n      } else {\n        // The payment has succeeded.\n        console.log('The payment has succeeded.')\n      }\n    }\n  }\n\n  render({}, { res }) {\n    return (\n      <div>\n        {this.state.loadingStripe ? (\n          <div>Loading stripe</div>\n        ) : (\n          <div className={style.formContainer}>\n            <StripePaymentRequestButton\n              paymentRequest={this.state.paymentRequest}\n              prButton={this.state.prButton}\n              onPaymentMethod={this.onPaymentMethod}\n            />\n            <StripeElement card={this.state.card} />\n            <pre>{JSON.stringify(res, null, 2)}</pre>\n          </div>\n        )}\n      </div>\n    )\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/stripeform/StripeForm.js","import { h, Component } from 'preact'\nimport style from './style'\nimport classNames from '../../utils/classNames'\n\nexport default class FooterButton extends Component {\n  onClick = e => {\n    if (this.props.disabled) {\n      return e.preventDefault()\n    }\n    this.props.onClick(e)\n  }\n\n  render({ children, disabled, hide }, {}) {\n    return (\n      <div\n        className={classNames({\n          [style.footer]: true,\n          [style.disabled]: disabled,\n          [style.hide]: hide,\n        })}\n      >\n        <button className={style.button} onClick={this.onClick} type=\"submit\">\n          {children}\n        </button>\n      </div>\n    )\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/footerbutton/FooterButton.js","export const dayToDayString = {\n  1: 'Mon',\n  2: 'Tue',\n  3: 'Wed',\n  4: 'Thu',\n  5: 'Fri',\n  6: 'Sat',\n  7: 'Sun',\n}\n\n\n\n// WEBPACK FOOTER //\n// ./constants.js","import { h, Component } from 'preact'\nimport { route } from 'preact-router'\nimport style from './style'\nimport classNames from '../../utils/classNames'\nimport FooterButton from '../footerbutton/FooterButton'\nimport { dayToDayString } from '../../constants'\nimport StripeForm from '../stripeform/StripeForm'\n\n\nexport default class Payment extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      formIsValid: false,\n      stripeToken: null,\n    }\n  }\n\n  onChange = () => () => {}\n  onSubmit = async e => {\n    e.preventDefault()\n    e.stopPropagation()\n    console.log('onsubmit')\n    if (!this.state.stripeToken) {\n      let res = await this.stripeSubmit(e)\n      console.log('res2', res)\n      if (res.error) {\n        this.setState({ error: res.error.message })\n      }\n      // TODO: set valid stripe token\n    }\n  }\n\n  render({ item, show }, {}) {\n    if (!item) return <div>Class not found</div>\n    return (\n      <div>\n        <form\n          className={classNames({\n            [style.paymentWrapper]: true,\n            [style.close]: !show,\n          })}\n        >\n          <div className={style.paymentMain}>\n            <div className={style.paymentHeader}>\n              <div\n                className={`leftArrow ${style.back}`}\n                onClick={this.props.onClose}\n              ></div>\n              <div className={style.title}>Checkout</div>\n              <div></div>\n            </div>\n\n            <div className={'hr'} />\n\n            <div className={style.section}>\n              <div className={style.classTitle}>{item.title}</div>\n              <div className={style.time}>\n                {dayToDayString[item.day]} {item.start_time} - {item.end_time}\n              </div>\n              <div className={style.location}>\n                {item.venue.name} - {item.venue.area}\n              </div>\n            </div>\n\n            <div className={'hr'} />\n\n            <div className={style.section}>\n              <div className={style.titleContainer}>\n                <div className={style.title}>Total</div>\n                <div className={style.titleAside}>\n                  {parseFloat(item.price).toFixed(2)}\n                </div>\n              </div>\n              {item.extra_fee && (\n                <div className={style.extra}>\n                  Please note this studio will charge you an additional\n                  <div className={style.strong}>\n                    {item.extra_fee} studio entry fee\n                  </div>\n                  upon arrival.\n                </div>\n              )}\n            </div>\n\n            <div className={'hr'} />\n\n            <div className={style.section}>\n              <div className={style.titleContainer}>\n                <div className={style.title}>Payment</div>\n              </div>\n              {this.state.error && (\n                <div className=\"errorContainer\">\n                  <div className=\"errorContainer_message\">\n                    {this.state.error}\n                  </div>\n                </div>\n              )}\n\n              <div className={style.paymentForm}>\n                <div className={style.inputContainer}>\n                  <input\n                    type=\"text\"\n                    className={style.input}\n                    placeholder={'Phone number'}\n                    onChange={this.onChange('phone')}\n                  />\n                </div>\n\n                {show && (\n                  <StripeForm\n                    amount={item.price}\n                    onSubmit={onStripeSubmit => {\n                      this.stripeSubmit = onStripeSubmit\n                    }}\n                  ></StripeForm>\n                )}\n              </div>\n            </div>\n            <div className=\"bottom\"></div>\n          </div>\n\n          <FooterButton\n            hide={!show}\n            // disabled={!this.state.formIsValid}\n            onClick={this.onSubmit}\n          >\n            <div>Pay now</div>\n          </FooterButton>\n        </form>\n      </div>\n    )\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/payment/Payment.js","import { h, Component } from 'preact'\nimport { route } from 'preact-router'\nimport style from './style'\nimport Payment from '../payment/Payment'\nimport FooterButton from '../footerbutton/FooterButton'\nimport { dayToDayString } from '../../constants'\n\nexport default class ClassDetail extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      item: this.props.data.state.classes[props.matches.id],\n      showPayment: false,\n    }\n  }\n\n  async componentDidMount() {\n    let res = await this.props.data.getClass(this.props.matches.id)\n    this.setState({\n      item: res,\n    })\n  }\n\n  onBack = e => {\n    e.preventDefault()\n    e.stopPropagation()\n    if (this.props.i) {\n      return window.history.back()\n    }\n    route('/search/')\n  }\n\n  hidePayment = e => {\n    this.setState({ showPayment: false })\n  }\n\n  render({}, { item, showPayment }) {\n    if (!item) return <div>Class not found</div>\n    const instructor = item.instructors[0]\n    const profile = instructor.profile || { bio: '' }\n    return (\n      <div>\n        <Payment\n          show={showPayment}\n          onClose={this.hidePayment}\n          item={item}\n        ></Payment>\n        <div className={style.classDetailWrapper}>\n          <div className={style.classHero}>\n            <div className={style.heroImage}>\n              <img\n                src={item.hero_image_url || '/assets/images/class.jpeg'}\n                alt={item.title}\n              />\n              <a\n                onClick={this.onBack}\n                href=\"/search\"\n                className={`${style.back}`}\n              >\n                <div className=\"leftArrow\"></div>\n              </a>\n              <div className={style.timeLabel}>\n                {dayToDayString[item.day].toUpperCase()} {item.start_time} -{' '}\n                {item.end_time}\n              </div>\n            </div>\n          </div>\n          <div className={style.main}>\n            <div className={style.mainTitle}>{item.title}</div>\n            <div className={style.address}>\n              {item.venue.name} {item.venue.area}\n            </div>\n            <a\n              href={\n                item.venue.google_maps_url\n                  ? item.venue.google_maps_url\n                  : `https://www.google.co.uk/maps/dir//${item.venue.address_line_1} ${item.venue.postcode}`\n              }\n              target=\"_blank\"\n              className={style.well}\n              style={{ borderTop: '1px solid var(--off-white)' }}\n            >\n              <div className={style.wellIcon}>\n                <div className=\"directions\"></div>\n              </div>\n              <div className={style.wellMain}>\n                <div className={style.wellName}>{item.venue.name}</div>\n                <div className={style.wellDescription}>\n                  {item.venue.address_line_1}, {item.venue.postcode}\n                </div>\n              </div>\n              <div className={style.wellAction}>\n                <div className=\"rightArrow\"></div>\n              </div>\n            </a>\n            <a className={style.well} href={`${profile.slug}`}>\n              <div className={style.wellIcon}>\n                <img\n                  className={style.instructorAvatar}\n                  src={\n                    profile.profile_image_url ||\n                    `https://api.adorable.io/avatars/60/${instructor.email}.png`\n                  }\n                  alt={instructor.name}\n                />\n              </div>\n              <div className={style.wellMain}>\n                <div className={style.wellName}>{instructor.name}</div>\n                <div className={style.wellDescription}>\n                  {profile.bio.substring(0, 50)}\n                </div>\n              </div>\n              <div className={style.wellAction}>\n                <div className=\"rightArrow\"></div>\n              </div>\n            </a>\n            {item.description && (\n              <div className={style.section}>\n                <div className={style.title}>About</div>\n                <div className={style.description}>{item.description}</div>\n              </div>\n            )}\n          </div>\n        </div>\n        <FooterButton onClick={() => this.setState({ showPayment: true })}>\n          <div>{item.price}</div>\n          <div className={style.priceLabel}>Book now</div>\n        </FooterButton>\n      </div>\n    )\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/classdetail/ClassDetail.js","import { h } from 'preact'\nimport style from './style'\nimport ClassDetail from '../../components/classdetail/ClassDetail'\n\nClassDetail.getInitialProps = ({ id }) => {\n  return new Promise(resolve => {\n    fetch(`https://instructorlist-django.herokuapp.com/api/classes/${id}`).then(\n      res => {\n        res.json().then(json => resolve(json))\n      },\n    )\n  })\n}\n\nexport default ClassDetail\n\n\n\n// WEBPACK FOOTER //\n// ./routes/class.page/index.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"paymentWrapper\":\"paymentWrapper__1x25b\",\"close\":\"close__1l-EC\",\"paymentMain\":\"paymentMain__2L3VM\",\"paymentHeader\":\"paymentHeader__3BZWN\",\"back\":\"back__1GJnh\",\"title\":\"title__1Os6k\",\"section\":\"section__2SSUU\",\"time\":\"time__IA1AL\",\"classTitle\":\"classTitle__2boOm\",\"titleContainer\":\"titleContainer__O_OAw\",\"extra\":\"extra__ktVQ8\",\"strong\":\"strong__ved2L\",\"paymentForm\":\"paymentForm__TFqeV\",\"inputContainer\":\"inputContainer__13SbB\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/payment/style.scss\n// module id = Mmjd\n// module chunks = 0","(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.loadjs = factory();\n  }\n}(this, function() {\n/**\n * Global dependencies.\n * @global {Object} document - DOM\n */\n\nvar devnull = function() {},\n    bundleIdCache = {},\n    bundleResultCache = {},\n    bundleCallbackQueue = {};\n\n\n/**\n * Subscribe to bundle load event.\n * @param {string[]} bundleIds - Bundle ids\n * @param {Function} callbackFn - The callback function\n */\nfunction subscribe(bundleIds, callbackFn) {\n  // listify\n  bundleIds = bundleIds.push ? bundleIds : [bundleIds];\n\n  var depsNotFound = [],\n      i = bundleIds.length,\n      numWaiting = i,\n      fn,\n      bundleId,\n      r,\n      q;\n\n  // define callback function\n  fn = function (bundleId, pathsNotFound) {\n    if (pathsNotFound.length) depsNotFound.push(bundleId);\n\n    numWaiting--;\n    if (!numWaiting) callbackFn(depsNotFound);\n  };\n\n  // register callback\n  while (i--) {\n    bundleId = bundleIds[i];\n\n    // execute callback if in result cache\n    r = bundleResultCache[bundleId];\n    if (r) {\n      fn(bundleId, r);\n      continue;\n    }\n\n    // add to callback queue\n    q = bundleCallbackQueue[bundleId] = bundleCallbackQueue[bundleId] || [];\n    q.push(fn);\n  }\n}\n\n\n/**\n * Publish bundle load event.\n * @param {string} bundleId - Bundle id\n * @param {string[]} pathsNotFound - List of files not found\n */\nfunction publish(bundleId, pathsNotFound) {\n  // exit if id isn't defined\n  if (!bundleId) return;\n\n  var q = bundleCallbackQueue[bundleId];\n\n  // cache result\n  bundleResultCache[bundleId] = pathsNotFound;\n\n  // exit if queue is empty\n  if (!q) return;\n\n  // empty callback queue\n  while (q.length) {\n    q[0](bundleId, pathsNotFound);\n    q.splice(0, 1);\n  }\n}\n\n\n/**\n * Execute callbacks.\n * @param {Object or Function} args - The callback args\n * @param {string[]} depsNotFound - List of dependencies not found\n */\nfunction executeCallbacks(args, depsNotFound) {\n  // accept function as argument\n  if (args.call) args = {success: args};\n\n  // success and error callbacks\n  if (depsNotFound.length) (args.error || devnull)(depsNotFound);\n  else (args.success || devnull)(args);\n}\n\n\n/**\n * Load individual file.\n * @param {string} path - The file path\n * @param {Function} callbackFn - The callback function\n */\nfunction loadFile(path, callbackFn, args, numTries) {\n  var doc = document,\n      async = args.async,\n      maxTries = (args.numRetries || 0) + 1,\n      beforeCallbackFn = args.before || devnull,\n      pathStripped = path.replace(/^(css|img)!/, ''),\n      isLegacyIECss,\n      e;\n\n  numTries = numTries || 0;\n\n  if (/(^css!|\\.css$)/.test(path)) {\n    // css\n    e = doc.createElement('link');\n    e.rel = 'stylesheet';\n    e.href = pathStripped;\n\n    // tag IE9+\n    isLegacyIECss = 'hideFocus' in e;\n\n    // use preload in IE Edge (to detect load errors)\n    if (isLegacyIECss && e.relList) {\n      isLegacyIECss = 0;\n      e.rel = 'preload';\n      e.as = 'style';\n    }\n  } else if (/(^img!|\\.(png|gif|jpg|svg)$)/.test(path)) {\n    // image\n    e = doc.createElement('img');\n    e.src = pathStripped;    \n  } else {\n    // javascript\n    e = doc.createElement('script');\n    e.src = path;\n    e.async = async === undefined ? true : async;\n  }\n\n  e.onload = e.onerror = e.onbeforeload = function (ev) {\n    var result = ev.type[0];\n\n    // treat empty stylesheets as failures to get around lack of onerror\n    // support in IE9-11\n    if (isLegacyIECss) {\n      try {\n        if (!e.sheet.cssText.length) result = 'e';\n      } catch (x) {\n        // sheets objects created from load errors don't allow access to\n        // `cssText` (unless error is Code:18 SecurityError)\n        if (x.code != 18) result = 'e';\n      }\n    }\n\n    // handle retries in case of load failure\n    if (result == 'e') {\n      // increment counter\n      numTries += 1;\n\n      // exit function and try again\n      if (numTries < maxTries) {\n        return loadFile(path, callbackFn, args, numTries);\n      }\n    } else if (e.rel == 'preload' && e.as == 'style') {\n      // activate preloaded stylesheets\n      return e.rel = 'stylesheet'; // jshint ignore:line\n    }\n    \n    // execute callback\n    callbackFn(path, result, ev.defaultPrevented);\n  };\n\n  // add to document (unless callback returns `false`)\n  if (beforeCallbackFn(path, e) !== false) doc.head.appendChild(e);\n}\n\n\n/**\n * Load multiple files.\n * @param {string[]} paths - The file paths\n * @param {Function} callbackFn - The callback function\n */\nfunction loadFiles(paths, callbackFn, args) {\n  // listify paths\n  paths = paths.push ? paths : [paths];\n\n  var numWaiting = paths.length,\n      x = numWaiting,\n      pathsNotFound = [],\n      fn,\n      i;\n\n  // define callback function\n  fn = function(path, result, defaultPrevented) {\n    // handle error\n    if (result == 'e') pathsNotFound.push(path);\n\n    // handle beforeload event. If defaultPrevented then that means the load\n    // will be blocked (ex. Ghostery/ABP on Safari)\n    if (result == 'b') {\n      if (defaultPrevented) pathsNotFound.push(path);\n      else return;\n    }\n\n    numWaiting--;\n    if (!numWaiting) callbackFn(pathsNotFound);\n  };\n\n  // load scripts\n  for (i=0; i < x; i++) loadFile(paths[i], fn, args);\n}\n\n\n/**\n * Initiate script load and register bundle.\n * @param {(string|string[])} paths - The file paths\n * @param {(string|Function|Object)} [arg1] - The (1) bundleId or (2) success\n *   callback or (3) object literal with success/error arguments, numRetries,\n *   etc.\n * @param {(Function|Object)} [arg2] - The (1) success callback or (2) object\n *   literal with success/error arguments, numRetries, etc.\n */\nfunction loadjs(paths, arg1, arg2) {\n  var bundleId,\n      args;\n\n  // bundleId (if string)\n  if (arg1 && arg1.trim) bundleId = arg1;\n\n  // args (default is {})\n  args = (bundleId ? arg2 : arg1) || {};\n\n  // throw error if bundle is already defined\n  if (bundleId) {\n    if (bundleId in bundleIdCache) {\n      throw \"LoadJS\";\n    } else {\n      bundleIdCache[bundleId] = true;\n    }\n  }\n\n  function loadFn(resolve, reject) {\n    loadFiles(paths, function (pathsNotFound) {\n      // execute callbacks\n      executeCallbacks(args, pathsNotFound);\n      \n      // resolve Promise\n      if (resolve) {\n        executeCallbacks({success: resolve, error: reject}, pathsNotFound);\n      }\n\n      // publish bundle load event\n      publish(bundleId, pathsNotFound);\n    }, args);\n  }\n  \n  if (args.returnPromise) return new Promise(loadFn);\n  else loadFn();\n}\n\n\n/**\n * Execute callbacks when dependencies have been satisfied.\n * @param {(string|string[])} deps - List of bundle ids\n * @param {Object} args - success/error arguments\n */\nloadjs.ready = function ready(deps, args) {\n  // subscribe to bundle load event\n  subscribe(deps, function (depsNotFound) {\n    // execute callbacks\n    executeCallbacks(args, depsNotFound);\n  });\n\n  return loadjs;\n};\n\n\n/**\n * Manually satisfy bundle dependencies.\n * @param {string} bundleId - The bundle id\n */\nloadjs.done = function done(bundleId) {\n  publish(bundleId, []);\n};\n\n\n/**\n * Reset loadjs dependencies statuses\n */\nloadjs.reset = function reset() {\n  bundleIdCache = {};\n  bundleResultCache = {};\n  bundleCallbackQueue = {};\n};\n\n\n/**\n * Determine if bundle has already been defined\n * @param String} bundleId - The bundle id\n */\nloadjs.isDefined = function isDefined(bundleId) {\n  return bundleId in bundleIdCache;\n};\n\n\n// export\nreturn loadjs;\n\n}));\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/loadjs/dist/loadjs.umd.js"],"sourceRoot":""}