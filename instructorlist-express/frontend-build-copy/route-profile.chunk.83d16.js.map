{"version":3,"sources":["webpack:///./components/Profile/profile.js","webpack:///./routes/profile/index.js","webpack:///./components/Profile/style.scss"],"names":["linkify","text","length","_text","pair","links","split","i","link","index","match","substr","join","Profile","componentDidMount","this","props","data","getProfile","matches","slug","setState","profile","render","user","facebook_url","website_url","twitter_url","youtube_url","instagram_url","className","style","ProfileWrapper","ProfileImage","src","profile_image_url","alt","full_name","ProfileName","ProfileBio","dangerouslySetInnerHTML","__html","bio","ProfileLinks","target","rel","href","ProfileLink","Component","getInitialProps","fetch","BASE_URL","json","profiles","module","exports"],"mappings":"uIAGMA,EAAU,SAAAC,GACd,IAAKA,IAASA,EAAKC,OAAQ,OAAOD,EAOlC,IANA,IAKIE,EAAQF,EACZ,MANwB,CACtB,CAAC,UAAW,WACZ,CAAC,WAAY,YACb,CAAC,OAAQ,iBAGX,eAAoC,CAElC,IAFG,IAAMG,EAAI,KACPC,EAAQF,EAAMG,MAAMF,EAAK,IACtBG,EAAI,EAAGA,EAAIF,EAAMH,OAAQK,IAAK,CACrC,IAAMC,EAAOH,EAAME,GACfE,EAAQD,EAAKE,MAAM,MAEvBL,EAAME,GAAN,YAAuBH,EAAK,GAAKI,EAAKG,OACpC,GAFFF,EAAkB,OAAVA,EAAiBD,EAAKN,OAAS,EAAIO,EAAMA,OAGvC,GAFV,qCAGsCD,EAAKG,OACzC,EACAF,GALF,OAMQD,EAAKG,OAAOF,GAEtBN,EAAQE,EAAMO,KAAK,IAErB,OAAOT,GAGYU,E,wLACbC,kBAAN,4CACY,uBAAMC,KAAKC,MAAMC,KAAKC,WAAWH,KAAKC,MAAMG,QAAQC,OAApD,KAAyD,uBACnEL,KAAKM,SAAS,CACZC,QAFQ,IAAyD,0CADrE,a,EAOAC,OAAA,e,2EAAwB,QAAXD,EAAW,EAAXA,QACX,IAAKA,EAAS,OAAO,KADC,IAGpBE,EAMEF,EANFE,KACAC,EAKEH,EALFG,aACAC,EAIEJ,EAJFI,YACAC,EAGEL,EAHFK,YACAC,EAEEN,EAFFM,YACAC,EACEP,EADFO,cAGF,OACE,mBAAKC,UAAWC,IAAMC,gBACpB,mBAAKF,UAAWC,IAAME,cACpB,mBAAKC,IAAKZ,EAAQa,kBAAmBC,IAAKZ,EAAKa,aAEjD,mBAAKP,UAAWC,IAAMO,aAAcd,EAAKa,WACzC,mBACEP,UAAWC,IAAMQ,WACjBC,wBAAyB,CAAEC,OAAQzC,EAAQsB,EAAQoB,QAErD,mBAAKZ,UAAWC,IAAMY,cACnBlB,GACC,iBACEmB,OAAO,SACPC,IAAI,WACJC,KAAMrB,EACNK,UAAWC,IAAMgB,aAEjB,iBAAGjB,UAAU,gBANf,aASDD,GACC,iBACEe,OAAO,SACPC,IAAI,WACJC,KAAMjB,EACNC,UAAWC,IAAMgB,aAEjB,iBAAGjB,UAAU,iBACb,qCAGHF,GACC,iBACEgB,OAAO,SACPC,IAAI,WACJC,KAAMlB,EACNE,UAAWC,IAAMgB,aAEjB,iBAAGjB,UAAU,eANf,YASDH,GACC,iBACEiB,OAAO,SACPC,IAAI,WACJC,KAAMnB,EACNG,UAAWC,IAAMgB,aAEjB,iBAAGjB,UAAU,eANf,YASDJ,GACC,iBACEkB,OAAO,SACPC,IAAI,WACJC,KAAMpB,EACNI,UAAWC,IAAMgB,aAEjB,iBAAGjB,UAAU,qBANf,e,GAxEyBkB,a,YC1BrCnC,EAAQoC,gBAAkB,sDACZ,OADqB7B,EAAT,EAASA,KACrB,gBAAM8B,MAASC,IAAJ,uBAAmC/B,IAA9C,MAAqD,gBACpD,uBADD,EACWgC,QAAV,MAAgB,gBAC7B,SAAO,CACLC,UAAQ,OACLjC,GAHQ,EAAgB,GAEnB,KAFmB,2BADoC,+BASpDP,a,iBCbfyC,EAAOC,QAAU,CAAC,eAAiB,wBAAwB,aAAe,sBAAsB,YAAc,qBAAqB,WAAa,oBAAoB,aAAe,sBAAsB,YAAc","file":"route-profile.chunk.83d16.js","sourcesContent":["import { h, Component } from 'preact'\nimport style from './style'\n\nconst linkify = text => {\n  if (!text || !text.length) return text\n  const linkPrefixPairs = [\n    ['http://', 'http://'],\n    ['https://', 'https://'],\n    ['www.', 'https://www.'],\n  ]\n  let _text = text\n  for (const pair of linkPrefixPairs) {\n    const links = _text.split(pair[0])\n    for (let i = 1; i < links.length; i++) {\n      const link = links[i]\n      let index = link.match(/\\s/)\n      index = index === null ? link.length - 1 : index.index\n      links[i] = `<a href='${pair[1]}${link.substr(\n        0,\n        index + 1,\n      )}' rel='nofollow' target='_blank'> ${link.substr(\n        0,\n        index,\n      )}</a>${link.substr(index)}`\n    }\n    _text = links.join('')\n  }\n  return _text\n}\n\nexport default class Profile extends Component {\n  async componentDidMount() {\n    let res = await this.props.data.getProfile(this.props.matches.slug)\n    this.setState({\n      profile: res,\n    })\n  }\n\n  render({}, { profile }) {\n    if (!profile) return null\n    const {\n      user,\n      facebook_url,\n      website_url,\n      twitter_url,\n      youtube_url,\n      instagram_url,\n    } = profile\n\n    return (\n      <div className={style.ProfileWrapper}>\n        <div className={style.ProfileImage}>\n          <img src={profile.profile_image_url} alt={user.full_name} />\n        </div>\n        <div className={style.ProfileName}>{user.full_name}</div>\n        <div\n          className={style.ProfileBio}\n          dangerouslySetInnerHTML={{ __html: linkify(profile.bio) }}\n        ></div>\n        <div className={style.ProfileLinks}>\n          {facebook_url && (\n            <a\n              target=\"_blank\"\n              rel=\"nofollow\"\n              href={facebook_url}\n              className={style.ProfileLink}\n            >\n              <i className=\"fa-facebook\"></i> facebook\n            </a>\n          )}\n          {instagram_url && (\n            <a\n              target=\"_blank\"\n              rel=\"nofollow\"\n              href={instagram_url}\n              className={style.ProfileLink}\n            >\n              <i className=\"fa-instagram\"></i>\n              <div>instagram</div>\n            </a>\n          )}\n          {youtube_url && (\n            <a\n              target=\"_blank\"\n              rel=\"nofollow\"\n              href={youtube_url}\n              className={style.ProfileLink}\n            >\n              <i className=\"fa-youtube\"></i> youtube\n            </a>\n          )}\n          {twitter_url && (\n            <a\n              target=\"_blank\"\n              rel=\"nofollow\"\n              href={twitter_url}\n              className={style.ProfileLink}\n            >\n              <i className=\"fa-twitter\"></i> twitter\n            </a>\n          )}\n          {website_url && (\n            <a\n              target=\"_blank\"\n              rel=\"nofollow\"\n              href={website_url}\n              className={style.ProfileLink}\n            >\n              <i className=\"fa-external-link\"></i> website\n            </a>\n          )}\n        </div>\n        {/* <pre>{JSON.stringify(profile, null, 2)}</pre> */}\n      </div>\n    )\n  }\n}\n","import { h } from 'preact'\nimport Profile from '../../components/Profile/profile'\nimport { BASE_URL } from '../../DataService'\n\nProfile.getInitialProps = async ({ slug }) => {\n  const res = await fetch(`${BASE_URL}/api/profiles/?slug=${slug}`)\n  let [json] = await res.json()\n  return {\n    profiles: {\n      [slug]: json,\n    },\n  }\n}\n\nexport default Profile\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProfileWrapper\":\"ProfileWrapper__C4nue\",\"ProfileImage\":\"ProfileImage__2msOm\",\"ProfileName\":\"ProfileName__1tIik\",\"ProfileBio\":\"ProfileBio__2zqI4\",\"ProfileLinks\":\"ProfileLinks__CBI1e\",\"ProfileLink\":\"ProfileLink__2ZSkh\"};"],"sourceRoot":""}