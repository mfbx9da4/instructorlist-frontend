{"version":3,"sources":["webpack:///./components/Profile/profile.js","webpack:///./routes/profile/index.js","webpack:///./components/Profile/style.scss"],"names":["linkify","text","length","console","log","_text","pair","links","split","i","link","index","match","substr","join","Profile","Component","res","this","props","data","getProfile","matches","slug","setState","profile","render","user","facebook_url","website_url","youtube_url","instagram_url","className","style","ProfileWrapper","ProfileImage","src","profile_image_url","alt","full_name","ProfileName","ProfileBio","dangerouslySetInnerHTML","__html","bio","ProfileLinks","target","rel","href","ProfileLink","getInitialProps","async","fetch","BASE_URL","json","profiles","module","exports"],"mappings":"uIAGMA,EAAUC,IACd,IAAKA,IAASA,EAAKC,OAAQ,OAAOD,EAClCE,QAAQC,IAAI,OAAQH,GACpB,IAKII,EAAQJ,EACZ,IAAK,IAAMK,IANa,CACtB,CAAC,UAAW,WACZ,CAAC,WAAY,YACb,CAAC,OAAQ,iBAGyB,CAElC,IADA,IAAMC,EAAQF,EAAMG,MAAMF,EAAK,IACtBG,EAAI,EAAGA,EAAIF,EAAML,OAAQO,IAAK,CACrC,IAAMC,EAAOH,EAAME,GACfE,EAAQD,EAAKE,MAAM,MAEvBL,EAAME,GAAN,YAAuBH,EAAK,GAAKI,EAAKG,OACpC,GAFFF,EAAkB,OAAVA,EAAiBD,EAAKR,OAAS,EAAIS,EAAMA,OAGvC,GAFV,qCAGsCD,EAAKG,OACzC,EACAF,GALF,OAMQD,EAAKG,OAAOF,GAEtBN,EAAQE,EAAMO,KAAK,IAErB,OAAOT,GAGM,MAAMU,UAAgBC,YACnC,0BACE,IAAIC,QAAYC,KAAKC,MAAMC,KAAKC,WAAWH,KAAKC,MAAMG,QAAQC,MAC9DpB,QAAQC,IAAI,MAAOa,GACnBC,KAAKM,SAAS,CACZC,QAASR,IAIbS,OAAO,EAAD,GAAkB,IAAb,QAAED,GAAW,EACtB,IAAKA,EAAS,OAAO,KACrB,IAAM,KACJE,EADI,aAEJC,EAFI,YAGJC,EAHI,YAIJC,EAJI,cAKJC,GACEN,EAEJ,OACE,mBAAKO,UAAWC,IAAMC,gBACpB,mBAAKF,UAAWC,IAAME,cACpB,mBAAKC,IAAKX,EAAQY,kBAAmBC,IAAKX,EAAKY,aAEjD,mBAAKP,UAAWC,IAAMO,aAAcb,EAAKY,WACzC,mBACEP,UAAWC,IAAMQ,WACjBC,wBAAyB,CAAEC,OAAQ3C,EAAQyB,EAAQmB,QAErD,mBAAKZ,UAAWC,IAAMY,cACnBjB,GACC,iBACEkB,OAAO,SACPC,IAAI,WACJC,KAAMpB,EACNI,UAAWC,IAAMgB,aAEjB,iBAAGjB,UAAU,gBANf,aASDD,GACC,iBACEe,OAAO,SACPC,IAAI,WACJC,KAAMjB,EACNC,UAAWC,IAAMgB,aAEjB,iBAAGjB,UAAU,iBACb,qCAGHF,GACC,iBACEgB,OAAO,SACPC,IAAI,WACJC,KAAMlB,EACNE,UAAWC,IAAMgB,aAEjB,iBAAGjB,UAAU,eANf,YASDH,GACC,iBACEiB,OAAO,SACPC,IAAI,WACJC,KAAMnB,EACNG,UAAWC,IAAMgB,aAEjB,iBAAGjB,UAAU,qBANf,e,gBCzFZjB,EAAQmC,gBAAkBC,MAAO,IAAa,IAAb,KAAE5B,GAAW,EACtCN,QAAYmC,MAASC,IAAJ,uBAAmC9B,IACrD+B,SAAcrC,EAAIqC,OACvB,MAAO,CACLC,SAAU,CACR,CAAChC,GAAO+B,KAKCvC,a,iBCbfyC,EAAOC,QAAU,CAAC,eAAiB,wBAAwB,aAAe,sBAAsB,YAAc,qBAAqB,WAAa,oBAAoB,YAAc","file":"route-profile.chunk.7bb6f.esm.js","sourcesContent":["import { h, Component } from 'preact'\nimport style from './style'\n\nconst linkify = text => {\n  if (!text || !text.length) return text\n  console.log('text', text)\n  const linkPrefixPairs = [\n    ['http://', 'http://'],\n    ['https://', 'https://'],\n    ['www.', 'https://www.'],\n  ]\n  let _text = text\n  for (const pair of linkPrefixPairs) {\n    const links = _text.split(pair[0])\n    for (let i = 1; i < links.length; i++) {\n      const link = links[i]\n      let index = link.match(/\\s/)\n      index = index === null ? link.length - 1 : index.index\n      links[i] = `<a href='${pair[1]}${link.substr(\n        0,\n        index + 1,\n      )}' rel='nofollow' target='_blank'> ${link.substr(\n        0,\n        index,\n      )}</a>${link.substr(index)}`\n    }\n    _text = links.join('')\n  }\n  return _text\n}\n\nexport default class Profile extends Component {\n  async componentDidMount() {\n    let res = await this.props.data.getProfile(this.props.matches.slug)\n    console.log('res', res)\n    this.setState({\n      profile: res,\n    })\n  }\n\n  render({}, { profile }) {\n    if (!profile) return null\n    const {\n      user,\n      facebook_url,\n      website_url,\n      youtube_url,\n      instagram_url,\n    } = profile\n\n    return (\n      <div className={style.ProfileWrapper}>\n        <div className={style.ProfileImage}>\n          <img src={profile.profile_image_url} alt={user.full_name} />\n        </div>\n        <div className={style.ProfileName}>{user.full_name}</div>\n        <div\n          className={style.ProfileBio}\n          dangerouslySetInnerHTML={{ __html: linkify(profile.bio) }}\n        ></div>\n        <div className={style.ProfileLinks}>\n          {facebook_url && (\n            <a\n              target=\"_blank\"\n              rel=\"nofollow\"\n              href={facebook_url}\n              className={style.ProfileLink}\n            >\n              <i className=\"fa-facebook\"></i> facebook\n            </a>\n          )}\n          {instagram_url && (\n            <a\n              target=\"_blank\"\n              rel=\"nofollow\"\n              href={instagram_url}\n              className={style.ProfileLink}\n            >\n              <i className=\"fa-instagram\"></i>\n              <div>instagram</div>\n            </a>\n          )}\n          {youtube_url && (\n            <a\n              target=\"_blank\"\n              rel=\"nofollow\"\n              href={youtube_url}\n              className={style.ProfileLink}\n            >\n              <i className=\"fa-youtube\"></i> youtube\n            </a>\n          )}\n          {website_url && (\n            <a\n              target=\"_blank\"\n              rel=\"nofollow\"\n              href={website_url}\n              className={style.ProfileLink}\n            >\n              <i className=\"fa-external-link\"></i> website\n            </a>\n          )}\n        </div>\n        {/* <pre>{JSON.stringify(profile, null, 2)}</pre> */}\n      </div>\n    )\n  }\n}\n","import { h } from 'preact'\nimport Profile from '../../components/Profile/profile'\nimport { BASE_URL } from '../../DataService'\n\nProfile.getInitialProps = async ({ slug }) => {\n  const res = await fetch(`${BASE_URL}/api/profiles/?slug=${slug}`)\n  let [json] = await res.json()\n  return {\n    profiles: {\n      [slug]: json,\n    },\n  }\n}\n\nexport default Profile\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProfileWrapper\":\"ProfileWrapper__C4nue\",\"ProfileImage\":\"ProfileImage__2msOm\",\"ProfileName\":\"ProfileName__1tIik\",\"ProfileBio\":\"ProfileBio__2zqI4\",\"ProfileLink\":\"ProfileLink__2ZSkh\"};"],"sourceRoot":""}