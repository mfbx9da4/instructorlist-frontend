{"version":3,"sources":["webpack:///route-class.page.chunk.82ac7.js","webpack:///./components/classdetail/style.scss?3fc6","webpack:///./components/classdetail/ClassDetail.js","webpack:///./routes/class.page/index.js"],"names":["webpackJsonp","6hN1","module","exports","Kb/3","__webpack_exports__","__webpack_require__","_objectDestructuringEmpty","obj","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","preact_min","classdetail_style","classdetail_style_default","n","dayToDayString","1","2","3","4","5","6","7","_ref3","_ref4","className","_ref5","_ref6","_ref7","ClassDetail","props","console","log","state","item","data","classes","matches","id","_Component","componentDidMount","Promise","$return","$error","res","this","getClass","setState","bind","render","instructor","instructors","profile","bio","style","classDetailWrapper","classHero","heroImage","src","hero_image_url","alt","title","onClick","onBack","href","back","timeLabel","day","start_time","main","mainTitle","address","venue","name","area","target","well","borderTop","wellIcon","wellMain","wellName","wellDescription","address_line_1","postcode","wellAction","slug","instructorAvatar","profile_image_url","email","substring","description","section","footer","button","price","priceLabel","Component","getInitialProps","resolve","fetch","then","json","vbq8"],"mappings":"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","file":"route-class.page.chunk.82ac7.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"6hN1\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"classDetailWrapper\":\"classDetailWrapper__2T8mX\",\"heroImage\":\"heroImage__Qr4BU\",\"back\":\"back__1aQJI\",\"timeLabel\":\"timeLabel__1dmWn\",\"main\":\"main__ieBPs\",\"mainTitle\":\"mainTitle__3QRdT\",\"address\":\"address__teZVQ\",\"description\":\"description__25Gbt\",\"section\":\"section__1vexu\",\"title\":\"title__gjFEQ\",\"instructorAvatar\":\"instructorAvatar__25zFg\",\"well\":\"well__372E6\",\"wellIcon\":\"wellIcon__3hDcb\",\"wellMain\":\"wellMain__1JhNM\",\"wellDescription\":\"wellDescription__1PEH9\",\"wellAction\":\"wellAction__3j7JB\",\"footer\":\"footer__3RKaw\",\"button\":\"button__2dfGd\",\"price\":\"price__3saRb\",\"priceLabel\":\"priceLabel__3dyS3\"};\n\n/***/ }),\n\n/***/ \"Kb/3\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ../node_modules/preact/dist/preact.min.js\nvar preact_min = __webpack_require__(\"KM04\");\nvar preact_min_default = /*#__PURE__*/__webpack_require__.n(preact_min);\n\n// EXTERNAL MODULE: ./routes/class.page/style.css\nvar style = __webpack_require__(\"vbq8\");\nvar style_default = /*#__PURE__*/__webpack_require__.n(style);\n\n// EXTERNAL MODULE: ../node_modules/preact-router/dist/preact-router.es.js\nvar preact_router_es = __webpack_require__(\"/QC5\");\n\n// EXTERNAL MODULE: ./components/classdetail/style.scss\nvar classdetail_style = __webpack_require__(\"6hN1\");\nvar classdetail_style_default = /*#__PURE__*/__webpack_require__.n(classdetail_style);\n\n// CONCATENATED MODULE: ./components/classdetail/ClassDetail.js\n\n\nfunction _objectDestructuringEmpty(obj) { if (obj == null) throw new TypeError(\"Cannot destructure undefined\"); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\nvar dayToDayString = {\n  1: 'MON',\n  2: 'TUE',\n  3: 'WED',\n  4: 'THU',\n  5: 'FRI',\n  6: 'SAT',\n  7: 'SUN'\n};\n\nvar _ref3 = Object(preact_min[\"h\"])(\n  'div',\n  null,\n  'Class not found'\n);\n\nvar _ref4 = Object(preact_min[\"h\"])('div', { className: 'leftArrow' });\n\nvar _ref5 = Object(preact_min[\"h\"])('div', { className: 'directions' });\n\nvar _ref6 = Object(preact_min[\"h\"])('div', { className: 'rightArrow' });\n\nvar _ref7 = Object(preact_min[\"h\"])('div', { className: 'rightArrow' });\n\nvar ClassDetail_ClassDetail = function (_Component) {\n  _inherits(ClassDetail, _Component);\n\n  function ClassDetail(props) {\n    _classCallCheck(this, ClassDetail);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    console.log('props', props);\n    _this.state = {\n      item: _this.props.data.state.classes[props.matches.id]\n    };\n    return _this;\n  }\n\n  ClassDetail.prototype.componentDidMount = function componentDidMount() {\n    return new Promise(function ($return, $error) {\n      var res;\n      return Promise.resolve(this.props.data.getClass(this.props.matches.id)).then(function ($await_1) {\n        try {\n          res = $await_1;\n          console.log('res', res);\n          this.setState({\n            item: res\n          });\n          return $return();\n        } catch ($boundEx) {\n          return $error($boundEx);\n        }\n      }.bind(this), $error);\n    }.bind(this));\n  };\n\n  ClassDetail.prototype.render = function render(_ref, _ref2) {\n    var item = _ref2.item;\n\n    _objectDestructuringEmpty(_ref);\n\n    console.log('item', item);\n    if (!item) return _ref3;\n    var instructor = item.instructors[0];\n    var profile = instructor.profile || { bio: '' };\n    return Object(preact_min[\"h\"])(\n      'div',\n      null,\n      Object(preact_min[\"h\"])(\n        'div',\n        { className: classdetail_style_default.a.classDetailWrapper },\n        Object(preact_min[\"h\"])(\n          'div',\n          { className: classdetail_style_default.a.classHero },\n          Object(preact_min[\"h\"])(\n            'div',\n            { className: classdetail_style_default.a.heroImage },\n            Object(preact_min[\"h\"])('img', {\n              src: item.hero_image_url || '/assets/images/class.jpeg',\n              alt: item.title\n            }),\n            Object(preact_min[\"h\"])(\n              'a',\n              {\n                onClick: this.onBack,\n                href: '/search',\n                className: '' + classdetail_style_default.a.back\n              },\n              _ref4\n            ),\n            Object(preact_min[\"h\"])(\n              'div',\n              { className: classdetail_style_default.a.timeLabel },\n              dayToDayString[item.day],\n              ' ',\n              item.start_time\n            )\n          )\n        ),\n        Object(preact_min[\"h\"])(\n          'div',\n          { className: classdetail_style_default.a.main },\n          Object(preact_min[\"h\"])(\n            'div',\n            { className: classdetail_style_default.a.mainTitle },\n            item.title\n          ),\n          Object(preact_min[\"h\"])(\n            'div',\n            { className: classdetail_style_default.a.address },\n            item.venue.name,\n            ' ',\n            item.venue.area\n          ),\n          Object(preact_min[\"h\"])(\n            'a',\n            {\n              href: '',\n              target: '_blank',\n              className: classdetail_style_default.a.well,\n              style: { borderTop: '1px solid var(--off-white)' }\n            },\n            Object(preact_min[\"h\"])(\n              'div',\n              { className: classdetail_style_default.a.wellIcon },\n              _ref5\n            ),\n            Object(preact_min[\"h\"])(\n              'div',\n              { className: classdetail_style_default.a.wellMain },\n              Object(preact_min[\"h\"])(\n                'div',\n                { className: classdetail_style_default.a.wellName },\n                item.venue.name\n              ),\n              Object(preact_min[\"h\"])(\n                'div',\n                { className: classdetail_style_default.a.wellDescription },\n                item.venue.address_line_1,\n                ', ',\n                item.venue.postcode\n              )\n            ),\n            Object(preact_min[\"h\"])(\n              'div',\n              { className: classdetail_style_default.a.wellAction },\n              _ref6\n            )\n          ),\n          Object(preact_min[\"h\"])(\n            'a',\n            { className: classdetail_style_default.a.well, href: '' + profile.slug },\n            Object(preact_min[\"h\"])(\n              'div',\n              { className: classdetail_style_default.a.wellIcon },\n              Object(preact_min[\"h\"])('img', {\n                className: classdetail_style_default.a.instructorAvatar,\n                src: profile.profile_image_url || 'https://api.adorable.io/avatars/60/' + instructor.email + '.png',\n                alt: instructor.name\n              })\n            ),\n            Object(preact_min[\"h\"])(\n              'div',\n              { className: classdetail_style_default.a.wellMain },\n              Object(preact_min[\"h\"])(\n                'div',\n                { className: classdetail_style_default.a.wellName },\n                instructor.name\n              ),\n              Object(preact_min[\"h\"])(\n                'div',\n                { className: classdetail_style_default.a.wellDescription },\n                profile.bio.substring(0, 50)\n              )\n            ),\n            Object(preact_min[\"h\"])(\n              'div',\n              { className: classdetail_style_default.a.wellAction },\n              _ref7\n            )\n          ),\n          item.description && Object(preact_min[\"h\"])(\n            'div',\n            { className: classdetail_style_default.a.section },\n            Object(preact_min[\"h\"])(\n              'div',\n              { className: classdetail_style_default.a.title },\n              'About'\n            ),\n            Object(preact_min[\"h\"])(\n              'div',\n              { className: classdetail_style_default.a.description },\n              item.description\n            )\n          )\n        )\n      ),\n      Object(preact_min[\"h\"])(\n        'div',\n        { className: classdetail_style_default.a.footer },\n        Object(preact_min[\"h\"])(\n          'div',\n          { className: classdetail_style_default.a.button },\n          Object(preact_min[\"h\"])(\n            'div',\n            { className: classdetail_style_default.a.price },\n            '\\xA3',\n            item.price\n          ),\n          Object(preact_min[\"h\"])(\n            'div',\n            { className: classdetail_style_default.a.priceLabel },\n            'Book now'\n          )\n        )\n      )\n    );\n  };\n\n  return ClassDetail;\n}(preact_min[\"Component\"]);\n\n\n// CONCATENATED MODULE: ../node_modules/babel-loader/lib??ref--0!./routes/class.page/index.js\n\n\n\n\nClassDetail_ClassDetail.getInitialProps = function (_ref) {\n  var id = _ref.id;\n\n  return new Promise(function (resolve) {\n    fetch('https://instructorlist-django.herokuapp.com/api/classes/' + id).then(function (res) {\n      res.json().then(function (json) {\n        return resolve(json);\n      });\n    });\n  });\n};\n\n/* harmony default export */ var class_page = __webpack_exports__[\"default\"] = (ClassDetail_ClassDetail);\n\n/***/ }),\n\n/***/ \"vbq8\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// route-class.page.chunk.82ac7.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"classDetailWrapper\":\"classDetailWrapper__2T8mX\",\"heroImage\":\"heroImage__Qr4BU\",\"back\":\"back__1aQJI\",\"timeLabel\":\"timeLabel__1dmWn\",\"main\":\"main__ieBPs\",\"mainTitle\":\"mainTitle__3QRdT\",\"address\":\"address__teZVQ\",\"description\":\"description__25Gbt\",\"section\":\"section__1vexu\",\"title\":\"title__gjFEQ\",\"instructorAvatar\":\"instructorAvatar__25zFg\",\"well\":\"well__372E6\",\"wellIcon\":\"wellIcon__3hDcb\",\"wellMain\":\"wellMain__1JhNM\",\"wellDescription\":\"wellDescription__1PEH9\",\"wellAction\":\"wellAction__3j7JB\",\"footer\":\"footer__3RKaw\",\"button\":\"button__2dfGd\",\"price\":\"price__3saRb\",\"priceLabel\":\"priceLabel__3dyS3\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/classdetail/style.scss\n// module id = 6hN1\n// module chunks = 1","import { h, Component } from 'preact'\nimport { route } from 'preact-router'\nimport style from './style'\n\nconst dayToDayString = {\n  1: 'MON',\n  2: 'TUE',\n  3: 'WED',\n  4: 'THU',\n  5: 'FRI',\n  6: 'SAT',\n  7: 'SUN',\n}\n\nexport default class ClassDetail extends Component {\n  constructor(props) {\n    super(props)\n    console.log('props', props)\n    this.state = {\n      item: this.props.data.state.classes[props.matches.id],\n    }\n  }\n\n  async componentDidMount() {\n    let res = await this.props.data.getClass(this.props.matches.id)\n    console.log('res', res)\n    this.setState({\n      item: res,\n    })\n  }\n\n  render({}, { item }) {\n    console.log('item', item)\n    if (!item) return <div>Class not found</div>\n    const instructor = item.instructors[0]\n    const profile = instructor.profile || { bio: '' }\n    return (\n      <div>\n        <div className={style.classDetailWrapper}>\n          {/* <pre>{JSON.stringify(item, null, 2)}</pre> */}\n          <div className={style.classHero}>\n            <div className={style.heroImage}>\n              <img\n                src={item.hero_image_url || '/assets/images/class.jpeg'}\n                alt={item.title}\n              />\n              <a\n                onClick={this.onBack}\n                href=\"/search\"\n                className={`${style.back}`}\n              >\n                <div className=\"leftArrow\"></div>\n              </a>\n              <div className={style.timeLabel}>\n                {dayToDayString[item.day]} {item.start_time}\n              </div>\n            </div>\n          </div>\n          <div className={style.main}>\n            <div className={style.mainTitle}>{item.title}</div>\n            <div className={style.address}>\n              {item.venue.name} {item.venue.area}\n            </div>\n            <a\n              href=\"\"\n              target=\"_blank\"\n              className={style.well}\n              style={{ borderTop: '1px solid var(--off-white)' }}\n            >\n              <div className={style.wellIcon}>\n                <div className=\"directions\"></div>\n              </div>\n              <div className={style.wellMain}>\n                <div className={style.wellName}>{item.venue.name}</div>\n                <div className={style.wellDescription}>\n                  {item.venue.address_line_1}, {item.venue.postcode}\n                </div>\n              </div>\n              <div className={style.wellAction}>\n                <div className=\"rightArrow\"></div>\n              </div>\n            </a>\n            <a className={style.well} href={`${profile.slug}`}>\n              <div className={style.wellIcon}>\n                <img\n                  className={style.instructorAvatar}\n                  src={\n                    profile.profile_image_url ||\n                    `https://api.adorable.io/avatars/60/${instructor.email}.png`\n                  }\n                  alt={instructor.name}\n                />\n              </div>\n              <div className={style.wellMain}>\n                <div className={style.wellName}>{instructor.name}</div>\n                <div className={style.wellDescription}>\n                  {profile.bio.substring(0, 50)}\n                </div>\n              </div>\n              <div className={style.wellAction}>\n                <div className=\"rightArrow\"></div>\n              </div>\n            </a>\n            {item.description && (\n              <div className={style.section}>\n                <div className={style.title}>About</div>\n                <div className={style.description}>{item.description}</div>\n              </div>\n            )}\n          </div>\n        </div>\n        <div className={style.footer}>\n          <div className={style.button}>\n            <div className={style.price}>£{item.price}</div>\n            <div className={style.priceLabel}>Book now</div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/classdetail/ClassDetail.js","import { h } from 'preact'\nimport style from './style'\nimport ClassDetail from '../../components/classdetail/ClassDetail'\n\nClassDetail.getInitialProps = ({ id }) => {\n  return new Promise(resolve => {\n    fetch(`https://instructorlist-django.herokuapp.com/api/classes/${id}`).then(\n      res => {\n        res.json().then(json => resolve(json))\n      },\n    )\n  })\n}\n\nexport default ClassDetail\n\n\n\n// WEBPACK FOOTER //\n// ./routes/class.page/index.js"],"sourceRoot":""}